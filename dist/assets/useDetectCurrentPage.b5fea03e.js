import{d as c,R as m,r as u,k as n,l as g}from"./vendor.0dc98fef.js";import{j as E,V as p,l as C,U as _,B as r,e as s,d as y,k as $,m as b,n as I,o as f,p as v,q as D,r as w,t as x,v as L,w as M,x as U}from"./index.43cdcd02.js";import{T as h}from"./Index.31c6c60e.js";import{u as N}from"./useOpenDidExplorer.5209bade.js";import{U as R}from"./Index.faa60f37.js";import{a}from"./axios.391ccac8.js";import"./@clerk/clerk-react.6c71122b.js";import"./@elastosfoundation/did-js-sdk.ab585390.js";const O=c("div").withConfig({displayName:"Style__Header",componentId:"sc-1yt785g-0"})(["  position:relative;display:flex;align-items:center;width:100%;padding:.5em .5em;background-color:white;div{height:100%;flex-grow:1;display:flex;align-items:center;margin-left:1em;background-color:white;}time{position:absolute;top:1em;right:1em;color:gray;font-size:.5em;}h2{line-height:unset;border-top-left-radius:.5em;border-top-right-radius:.5em;font-weight:bold;font-size:1vw;@media only screen and (max-width:800px){font-size:3.4vw;}}h3{text-decoration:underline;font-size:.8vw;border-top-left-radius:.5em;border-top-right-radius:.5em;font-weight:bold;color:gray;@media only screen and (max-width:800px){font-size:3vw;}:hover{color:var(--m-primary-btn-color);}}"]);c("img").withConfig({displayName:"Style__Thumb",componentId:"sc-1yt785g-1"})(["  flex-shrink:0;width:3vw;height:3vw;border-radius:50%;@media only screen and (max-width:800px){width:9vw;height:9vw;}"]);c("section").withConfig({displayName:"Style__UsernameContainer",componentId:"sc-1yt785g-2"})(["align-items:flex-start;display:flex;flex-direction:column;"]);const S="CAPTCHA_VERIFIED",k="FACE_ID_VERIFIED",vt=({time:t,username:o,userId:e,iconSrc:i,topicCreatorIsDidUser:At,userTag:A,userVerificationType:l})=>{const T=e!=null&&e.startsWith("did")?`${o.substring(0,12)}`:o,d=N(o);return m.createElement(O,null,m.createElement(E,{width:"3vw",userId:e,iconSrc:i}),m.createElement("div",null,m.createElement("time",null,t),m.createElement(R,{usernameDisplay:T,userId:e,userTag:A}),l===S&&m.createElement(h,{onClick:d,Icon:p,tooltipHeader:"CAPTCH Verified",tooltipText:`User ${C(o)} Was Verfied To NOT Be A Bot At The Time This Content Was created`}),l===k&&m.createElement(h,{onClick:d,Icon:p,tooltipHeader:"Face ID Verified",tooltipText:`User ${C(o)} Is A Verified Unique User`})))},Dt=(t,o)=>{u.exports.useEffect(()=>{t!=null&&t.current&&(t.current.innerHTML=o)},[t,o])},B=t=>a.post(`${r}/comments`,t),P=(t,o)=>a.get(`${r}/comments?subtopicId=${t}&userId=${o}`),V=t=>a.get(`${r}/comments/replies/${t}`),H=t=>a.get(`${r}/comments/${t}`),F=t=>a.put(`${r}/comments/likes`,t),z=t=>a.put(`${r}/comments/civility`,t),wt=t=>a.post(`${_}/comments/toxicity`,t),G=t=>({type:$,payload:t}),K=t=>({type:b,payload:t}),W=t=>({type:I,payload:t}),q=t=>({type:f,payload:t}),Y=t=>({type:v,payload:t}),j=t=>({type:D,payload:t}),J=t=>o=>{B(t).then(e=>o(W(e.data))).then(()=>{n.success("Saved Comment",{delay:1e3})}).catch(e=>n.error(s(e))).finally(()=>o(y()))},Q=(t,o)=>e=>P(t,o).then(i=>e(G(i.data))).catch(i=>n.error(s(i))),X=t=>o=>V(t).then(e=>o(K(e.data))).catch(e=>n.error(s(e))),Z=t=>o=>H(t).then(e=>o(q(e.data))).catch(e=>n.error(s(e))),tt=t=>o=>F(t).then(e=>o(Y(e.data))).catch(e=>n.error(s(e))),et=t=>o=>z(t).then(e=>o(j(e.data))).catch(e=>n.error(s(e))),xt={createComment:J,getAllComments:Q,getComment:Z,updateCommentLikes:tt,updateCommentCivility:et,getAllCommentReplies:X},ot=t=>a.post(`${r}/tribunal-comments`,t),nt=(t,o)=>a.get(`${r}/tribunal-comments?contentId=${t}&commentType=${o}`),at=t=>a.get(`${r}/tribunal-comments-batch?contentId=${t}`),rt=t=>a.put(`${r}/comments/likes-tribunal`,t),it=t=>a.put(`${r}/comments/civility-tribunal`,t),st=(t,o)=>({type:w,payload:{comments:t,commentType:o}}),mt=t=>({type:x,payload:t}),ct=t=>({type:L,payload:t}),lt=t=>({type:M,payload:t}),dt=t=>({type:U,payload:t}),pt=t=>o=>{ot(t).then(e=>o(ct(e.data))).then(()=>{n.success("Saved Comment",{delay:1e3})}).catch(e=>n.error(`Problem Saving Comment 
 ${e}`,{autoClose:2500})).finally(()=>o(y()))},Ct=(t,o)=>e=>nt(t,o).then(i=>e(st(i.data,o))).catch(i=>n.error(s(i))),ht=t=>o=>at(t).then(e=>o(mt(e.data))).catch(e=>n.error(s(e))),ut=t=>o=>rt(t).then(e=>o(lt(e.data))).catch(e=>n.error(e)),yt=t=>o=>it(t).then(e=>o(dt(e.data))).catch(e=>n.error(e)),Lt={createTribunalComment:pt,getAllTribunalComments:Ct,getAllTribunalCommentsBatch:ht,updateTribunalCommentCivility:yt,updateTribunalCommentLikes:ut},Mt=()=>{const{pathname:t}=g();return u.exports.useMemo(()=>({isOnTribunalPage:t.includes("tribunal")}),[t])};export{vt as U,Mt as a,wt as b,xt as c,Lt as t,Dt as u};
