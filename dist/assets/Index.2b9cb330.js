import{d as i,l as Y,j as K,r as m,R as e,V as Q,Q as E,u as g,O as X,X as J,K as w,i as R,x as Z,y as I,k as ee}from"./vendor.0dc98fef.js";import{t as T,u as te}from"./Index.cd78bc3d.js";import{s as A}from"./index.da0093f6.js";import{b as V,R as ne,u as x,y as oe,D as le,E as ae,a3 as re,ae as ie,af as se,ag as me,B as ce,e as de,ah as ue}from"./index.43cdcd02.js";import{H as pe,L as ge,U as he,M as we,R as fe}from"./Index.f6300c6a.js";import{u as ye,V as Ee,j as xe,A as Ce,E as L,i as G,h as P}from"./Index.4b46e286.js";import{u as B,U as ve,c as H}from"./useDetectCurrentPage.b5fea03e.js";import{b as M}from"./redux.3f1f2b08.js";import{g as F}from"./dateFormatter.922bcdf9.js";import{P as be,b as Te,a as y,T as Se,C as v}from"./index.e50d5695.js";import{a as U}from"./Style.bb09fefa.js";import{T as D}from"./Index.906ab2cd.js";import{W as $}from"./Index.04a4c851.js";import{a as Ie}from"./axios.391ccac8.js";import{o as _e}from"./index.f4945287.js";import"./index.7c84f60a.js";import"./@clerk/clerk-react.6c71122b.js";import"./@elastosfoundation/did-js-sdk.ab585390.js";import"./socket.io-client.b610e832.js";import"./redux-thunk.1b3bbe7b.js";import"./unicode-emoji-picker.85c61051.js";import"./Index.32d86a3d.js";import"./CaptchaGateway.c92dd090.js";import"./Index.31c6c60e.js";import"./Index.73362e46.js";import"./useOpenModal.986cd8ad.js";import"./useOpenDidExplorer.5209bade.js";import"./Index.faa60f37.js";import"./index.3229f831.js";const Ne=i("div").withConfig({displayName:"Style__Container",componentId:"sc-4i4mc0-0"})(["width:100vw;display:flex;flex-direction:column;align-items:center;padding-bottom:10vw;@media only screen and (max-width:600px){flex-direction:column;width:100vw;margin-left:0;}"]),ke=i("div").withConfig({displayName:"Style__MainContent",componentId:"sc-4i4mc0-1"})(["display:flex;flex-direction:column;align-items:center;@media only screen and (max-width:600px){width:100vw;}"]),S=i("hr").withConfig({displayName:"Style__Line",componentId:"sc-4i4mc0-2"})(["  width:90%;margin:1em 0 2em 0;background-color:rgb(48,48,50);height:.5px;border:none;"]),Re=i("section").withConfig({displayName:"Style__HeaderContainer",componentId:"sc-4i4mc0-3"})(["display:flex;flex-direction:row;width:100%;li{margin:0;}@media only screen and (max-width:600px){width:100%;}"]),z=new RegExp(/\b[0-9a-f]{8}\b-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-\b[0-9a-f]{12}\b/g),Ae=(t,o)=>{var s;const{pathname:n}=Y();(s=n.match(z))==null||s[1];const r=K(),{openModal:a}=M(V,r);return m.exports.useCallback(()=>{a(ne,o)},[])},Ue=(t,o,n)=>m.exports.useCallback(()=>{!o||!n||t({id:o.id,userId:n.id,increment:!o.liked})},[o]),ze=i("iframe").withConfig({displayName:"Style__VideoPlayer",componentId:"sc-1jrwy84-0"})(["width:100%;height:25.31vw;@media only screen and (max-width:600px){height:50vw}"]),Le=i("p").withConfig({displayName:"Style__Description",componentId:"sc-1jrwy84-1"})(["width:100%;font-size:.6em;word-wrap:break-word;padding:1em;"]),Ge=i("div").withConfig({displayName:"Style__ExpandButton",componentId:"sc-1jrwy84-2"})(["  position:relative;"]),O=({topic:t,user:o,src:n,showLinks:r})=>{const a=m.exports.useRef(null),[s,d]=m.exports.useState(!1);Ae();const l=ye(t.id),{updateTopicLikes:c}=x(T);Ue(c,t,o),B(a,t==null?void 0:t.description);const u=s?e.createElement(le,null):e.createElement(ae,null);return e.createElement("div",{style:{width:"100%"}},e.createElement(ze,{src:n,loading:"lazy"}),e.createElement(Ee,{onClick:l,username:t==null?void 0:t.createdBy,iconSrc:`${t==null?void 0:t.createdByIconSrc}`,summary:t==null?void 0:t.summary,time:F(t==null?void 0:t.createdAt)},e.createElement(Le,null,e.createElement("span",{ref:a})),(t==null?void 0:t.evidenceLinks.length)!==0&&e.createElement(Ge,null,e.createElement(oe,{icon:u,onClick:()=>d(!s)},"Show Additional Info")),e.createElement(Q,{in:s},e.createElement("div",null,e.createElement(xe,{topic:t,showLinks:r}))),e.createElement(Ce,{likes:t==null?void 0:t.likes,topic:t,user:o})))},Pe=i("div").withConfig({displayName:"Style__Container",componentId:"sc-uvltbq-0"})(["  display:flex;border:1px solid rgba(200,200,200,0.25);border-bottom:none;flex-direction:column;align-items:center;width:50vw;padding:1em;padding-top:5em;z-index:99;background-color:#F7F7F7;background-color:white;h1{text-align:center;letter-spacing:.2em;margin-bottom:3vw;}span{font-weight:bold;cursor:pointer;}@media only screen and (max-width:600px){padding:1em 0;}"]);i("div").withConfig({displayName:"Style__LinksContainer",componentId:"sc-uvltbq-1"})(["width:100%;margin-top:2em;display:flex;ul:first-child{border-right:1px solid gray;}"]);const De=i("p").withConfig({displayName:"Style__Description",componentId:"sc-uvltbq-2"})(["width:100%;font-size:.7vw;word-wrap:break-word;padding:1em;"]),$e=i("div").withConfig({displayName:"Style__TopicSummaryContainer",componentId:"sc-uvltbq-3"})(["   display:flex;flex-direction:column;align-items:center;margin:2em;border-radius:.5em;box-shadow:-5px -5px 10px #5a5a5a,5px 5px 10px #ffffff;border:none;cursor:pointer;overflow:hidden;text-decoration:none;"]),Oe=i(re).withConfig({displayName:"Style__StyledLongDownArrow",componentId:"sc-uvltbq-4"})(["  margin-bottom:2vw;"]),_=({text:t,title:o,reference:n})=>e.createElement(X,{placement:"top",overlay:e.createElement(J,null,e.createElement("strong",null,o))},e.createElement("span",{onClick:()=>{var r;return(r=n==null?void 0:n.current)==null?void 0:r.scrollIntoView()}},t)),je=({topic:t,user:o})=>{let n=null,r=null;const{"*":a}=E(),[s,d]=a?a.match(z):[],l=g(W=>W.subtopics)[s],c=l&&(l==null?void 0:l.title)!=="General",u=m.exports.useMemo(()=>({topic:t,user:o,showLinks:!0}),[t,o]),p=m.exports.useRef(null),h=m.exports.useRef(null),f=m.exports.useRef(null);B(p,t==null?void 0:t.description);const C=m.exports.useMemo(()=>({topic:l,user:o,showLinks:!0}),[l,o]);return t!=null&&t.tweetHtml?n=e.createElement(L,{...u}):t!=null&&t.ytUrl?n=e.createElement(O,{...u,src:t.ytUrl.replace("watch?v=","embed/")}):(t==null?void 0:t.vodUrl)||(t==null?void 0:t.imageUrl)?n=e.createElement(G,{...u}):n=e.createElement(P,{...u}),l&&(l!=null&&l.tweetHtml?r=e.createElement(L,{...C}):l!=null&&l.ytUrl?r=e.createElement(O,{...C,src:l.ytUrl.replace("watch?v=","embed/")}):(l==null?void 0:l.vodUrl)||(l==null?void 0:l.imageUrl)?r=e.createElement(G,{...C}):r=e.createElement(P,{...C})),e.createElement(Pe,null,e.createElement("h1",{className:"text-focus-in"}," ",c?e.createElement(e.Fragment,null,"Discussion Related To Parent"," ",e.createElement(_,{text:"Topic",title:t==null?void 0:t.title,reference:f})):e.createElement(e.Fragment,null,"We're Talking About This"," ",e.createElement(_,{text:"Topic",title:t==null?void 0:t.title,reference:f}))),e.createElement("div",{ref:f,style:{width:"90%"}},!c&&n,e.createElement($e,{hidden:!c},e.createElement(ve,{iconSrc:t==null?void 0:t.createdByIconSrc,time:F(t==null?void 0:t.createdAt),username:t==null?void 0:t.createdBy,userId:t==null?void 0:t.userId}),e.createElement("img",{src:t==null?void 0:t.thumbImgUrl,alt:"Nothing To Show"}),e.createElement(De,null,e.createElement("span",{ref:p})))),l&&e.createElement(Oe,{hidden:!c}),e.createElement("h1",{className:"text-focus-in",hidden:!c}," ","We're Talking About This"," ",e.createElement(_,{text:"Subtopic",title:l==null?void 0:l.title,reference:h})),e.createElement("div",{hidden:!c,ref:h,style:{display:"flex",flexDirection:"column",alignItems:"center"}},r))},Ke=({topicId:t})=>{const o=g(r=>r.comments.targetComment),n=m.exports.useCallback(r=>{r!==null&&r.scrollIntoView()},[]);return e.createElement(be.Provider,{value:{commentId:o==null?void 0:o.id,topicId:t}},e.createElement(Te,{commentRef:n,commentData:o,replies:[]}))},Ve=m.exports.memo(Ke),Be=new Set(["POSITIVE","NEUTRAL","NEGATIVE"]),q=()=>{const t=g(o=>o.comments.list);return m.exports.useMemo(()=>{const o={POSITIVE:[],NEUTRAL:[],NEGATIVE:[],all:t};return t.forEach(n=>{var r,a;Be.has((r=n.data)==null?void 0:r.sentiment)&&o[(a=n.data)==null?void 0:a.sentiment].push(n)}),o},[t])},He=i("div").withConfig({displayName:"Style__ThreadContainer",componentId:"sc-1q6ncod-0"})(["display:flex;flex-direction:column;align-items:center;width:70vw;"]);i("div").withConfig({displayName:"Style__Container",componentId:"sc-1q6ncod-1"})(["width:100vw;height:50vh;display:flex;flex-direction:column;align-items:center;margin-top:5em;header{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:1.5em;background-color:var(--m-primary-background-color);border-radius:1em;h1{max-width:30vw;}b{color:var(--m-primary-color)}}"]);const b=i("section").withConfig({displayName:"Style__ColumnContainer",componentId:"sc-1q6ncod-2"})(["display:flex;justify-content:space-evenly;width:100vw;ul:first-child{}ul:last-child{}"]),Me=()=>{const{subTopicId:t,topicId:o}=E(),{getAllComments:n,getTopic:r}=x(A,H,T),a=g(f=>f.session.currentUser),s=g(f=>f.subtopics)[t],[d,l]=m.exports.useState("all");ie();const{POSITIVE:c,NEUTRAL:u,NEGATIVE:p,all:h}=q();return m.exports.useEffect(()=>{a!=null&&a.userId&&(n(t,a.userId),r(o,a.userId))},[a]),e.createElement(He,null,e.createElement(S,null),e.createElement(U,{activeKey:d,onSelect:f=>l(f)},e.createElement(w,{eventKey:"all",title:"All"},e.createElement(b,null,e.createElement(y,{topicId:o,numComments:s==null?void 0:s.allComments,comments:h,commentSentiment:"",color:"#6A6E70"}))),e.createElement(w,{eventKey:"positive",title:"Generally Positive"},e.createElement(b,null,e.createElement(y,{topicId:o,numComments:s==null?void 0:s.positiveComments,comments:c,commentSentiment:"Generally Positive",color:"#6A6E70"}))),e.createElement(w,{eventKey:"neutral",title:"Neutral"},e.createElement(b,null,e.createElement(y,{topicId:o,numComments:s==null?void 0:s.neutralComments,comments:u,commentSentiment:"Neutral",color:"#474A4F"}))),e.createElement(w,{eventKey:"negative",title:"Generally Negative"},e.createElement(b,null,e.createElement(y,{topicId:o,numComments:s==null?void 0:s.negativeComments,comments:p,commentSentiment:"Generally Negative",color:"#6A6E70"})))))},Fe=m.exports.memo(Me),qe=t=>{const o=R();return m.exports.useCallback(()=>o(t),[t])},We=(t,o)=>{const n=R();return m.exports.useCallback(()=>{n(`/home/topics/${t}/subtopics/${o}`)},[])},Ye=i("div").withConfig({displayName:"Style__Container",componentId:"sc-kyoj7l-0"})(["  display:flex;flex-direction:column;align-items:center;width:75%;box-shadow:0 0 40px -10px rgba(0,0,0,.4);@media only screen and (max-width:600px){width:100vw;}"]),Qe=i("header").withConfig({displayName:"Style__TableHeader",componentId:"sc-kyoj7l-1"})(["  height:10vh;background-image:linear-gradient(to right,var(--m-primary-background-color),#83af9b);color:#fff;position:relative;overflow:hidden;width:100%;h1{width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;z-index:2;margin:0;span{display:block;}span:first-child{font-size:1.5vw;font-weight:700;letter-spacing:6.5px;@media only screen and (max-width:600px){font-size:3.5vw;}}span:last-child{font-size:.8vw;font-weight:500;letter-spacing:3.55px;opacity:.85;transform:translateY(-2px);@media only screen and (max-width:600px){font-size:3.3vw;}}}.leaderboard__icon{fill:#fff;opacity:.35;width:50px;position:absolute;top:50%;transform:translate(-50%,-50%);}"]),Xe=i("table").withConfig({displayName:"Style__Table",componentId:"sc-kyoj7l-2"})(["  border-radius:0 0 12px 12px;padding:15px 15px 20px;display:grid;row-gap:8px;width:100%;"]),Je=i("tr").withConfig({displayName:"Style__ColHeader",componentId:"sc-kyoj7l-3"})(["display:grid;grid-template-columns:repeat(3,1fr);align-items:center;padding:10px 30px 10px 10px;background-color:var(--bg-accent);border-radius:.5vw;"]),N=i("th").withConfig({displayName:"Style__ColItem",componentId:"sc-kyoj7l-4"})(["color:white;font-weight:bold;letter-spacing:.1vw;font-size:1vw;@media only screen and (max-width:600px){font-size:2vw;}"]),Ze=i("tr").withConfig({displayName:"Style__Row",componentId:"sc-kyoj7l-5"})(["  display:grid;grid-template-columns:repeat(3,1fr);align-items:center;padding:10px 30px 10px 10px;overflow:hidden;border-radius:.5vw;box-shadow:0 5px 7px -1px rgba(51,51,51,0.23);cursor:pointer;transition:transform .25s cubic-bezier(.7,.98,.86,.98),box-shadow .25s cubic-bezier(.7,.98,.86,.98);background-color:#fff;z-index:999999999;&:hover{transform:scale(1.1);box-shadow:0 9px 47px 11px rgba(51,51,51,0.18);}"]),k=i("td").withConfig({displayName:"Style__RowItem",componentId:"sc-kyoj7l-6"})(["  font-weight:600;color:#979cb0;font-weight:600;letter-spacing:.1vw;font-size:1vw;@media only screen and (max-width:600px){font-size:2vw;}img{width:2vw;height:2vw;@media only screen and (max-width:600px){width:4vw;height:4vw;}}"]),et=({id:t,title:o,createdBy:n,allComments:r,topicId:a,createdByIconSrc:s})=>{const d=We(a,t);return e.createElement("tbody",null,e.createElement(Ze,{onClick:d},e.createElement(k,null," ",e.createElement("img",{src:s||"https://civil-dev.s3.us-west-1.amazonaws.com/profile_img_1.png",alt:""})," ",`${n.substring(0,12)}...`),e.createElement(k,null,o),e.createElement(k,null,r)))},tt=()=>{const t=Object.values(g(n=>n.subtopics)),{topicId:o}=E();return e.createElement(e.Fragment,null,e.createElement(S,null),e.createElement(Ye,null,e.createElement(Qe,null,e.createElement("h1",null,e.createElement("span",null,"Covid"),e.createElement("span",null,"Sub Topics"))),e.createElement(Xe,null,e.createElement("thead",null,e.createElement(Je,null,e.createElement(N,null," Created By "),e.createElement(N,null," Title "),e.createElement(N,null," Comments "))),t.map(n=>e.createElement(et,{key:n.id,...n,subtopic:n,topicId:o})))))},nt=i("section").withConfig({displayName:"Style__Container",componentId:"sc-1l5w9gs-0"})(["width:70vw;padding-bottom:20vh;display:flex;flex-direction:column;align-items:center;> h1{padding:.5em 2em;border-radius:2em;margin-bottom:2vw;box-shadow:-5px -5px 10px #5a5a5a,5px 5px 10px #ffffff;}b{color:var(--m-primary-color);}@media only screen and (max-width:600px){width:100vw}"]),ot=()=>{var s;const t=g(d=>d.subtopics),o=K(),{openModal:n}=M(V,o),r=(s=Object.values(t))==null?void 0:s.find(({title:d})=>d==="General"),a=qe(r==null?void 0:r.id);return e.createElement(nt,null,e.createElement("h1",null,"Browse Some"," ",e.createElement("b",null,"Sub-Topics")," ","or Create Your Own..."),e.createElement("div",{style:{display:"flex"}},e.createElement(D,{type:"button",onClick:()=>n(se)},"Create Sub Topic +"),e.createElement(D,{type:"button",onClick:a},"General Discussion"," ",e.createElement(me,{size:50}))),e.createElement(tt,null))},lt=()=>{const{commentId:t,topicId:o}=E(),{getAllCommentReplies:n,getTopic:r}=x(A,H,T),a=g(h=>h.session.currentUser),[s,d]=m.exports.useState("all"),{POSITIVE:l,NEUTRAL:c,NEGATIVE:u,all:p}=q();return m.exports.useEffect(()=>{console.log(t),n(t),r(o,a==null?void 0:a.id)},[a,t]),e.createElement(Se,null,e.createElement(S,null),e.createElement(U,{activeKey:s,onSelect:h=>d(h)},e.createElement(w,{eventKey:"all",title:"All"},e.createElement(v,null,e.createElement(y,{numComments:0,comments:p,commentSentiment:"",color:"#6A6E70"}))),e.createElement(w,{eventKey:"positive",title:"Generally Positive"},e.createElement(v,null,e.createElement(y,{numComments:0,comments:l,commentSentiment:"Generally Positive",color:"#6A6E70"}))),e.createElement(w,{eventKey:"neutral",title:"Neutral"},e.createElement(v,null,e.createElement(y,{numComments:0,comments:c,commentSentiment:"Neutral",color:"#474A4F"}))),e.createElement(w,{eventKey:"negative",title:"Generally Negative"},e.createElement(v,null,e.createElement(y,{numComments:0,comments:u,commentSentiment:"Generally Negative",color:"#6A6E70"})))))},at=m.exports.memo(lt),rt=()=>e.createElement(Z,null,e.createElement(I,{path:":subTopicId/comments/:commentId",element:e.createElement(e.Fragment,null,e.createElement($,{color:"green",top:"115%"}),e.createElement(at,null))}),e.createElement(I,{path:":subTopicId",element:e.createElement(e.Fragment,null,e.createElement($,{color:"green",top:"115%"}),e.createElement(Fe,null))}),e.createElement(I,{path:"/",element:e.createElement(ot,null)}));i("div").withConfig({displayName:"Style__Container",componentId:"sc-1rwlw6y-0"})(["width:calc(100vw - var(--sidebar-width));display:flex;margin-left:var(--sidebar-width);.tab-content{padding-bottom:40vh;}@media only screen and (max-width:600px){flex-direction:column;width:100vw;margin-left:0;}"]);i("div").withConfig({displayName:"Style__MainContent",componentId:"sc-1rwlw6y-1"})(["display:flex;flex-direction:column;align-items:center;@media only screen and (max-width:600px){width:100vw;}"]);i("hr").withConfig({displayName:"Style__Line",componentId:"sc-1rwlw6y-2"})(["  width:90%;margin:1em 0 2em 0;background-color:rgb(48,48,50);height:.5px;border:none;"]);const it=i("div").withConfig({displayName:"Style__TabContainer",componentId:"sc-1rwlw6y-3"})(["  flex:25%;display:flex;z-index:99;flex-direction:column;background:white;border-left:1px solid #dee2e6;"]),st=t=>Ie.get(`${ce}/recommendations?targetContentId=${t}`),mt=t=>({type:ue,payload:t}),ct=t=>o=>st(t).then(n=>o(mt(n.data))).catch(n=>ee.error(de(n))),dt={getAllRecs:ct},ut=t=>{const{topic:o,subTopic:n}=t,r=R();return m.exports.useCallback(()=>{if(t.externalRecommendedContent){window.open(t.externalRecommendedContent,"_blank");return}r(o?`/home/topics/${o.id}/subtopics/`:`/home/topics/${n.topicId}/subtopics/${n.id}`)},[t])},pt=i("li").withConfig({displayName:"Style__Container",componentId:"sc-sh6ww9-0"})(["width:95%;height:17vh;display:flex;margin:10px;cursor:pointer;"]),gt=i("div").withConfig({displayName:"Style__Thumb",componentId:"sc-sh6ww9-1"})(["height:100%;flex:40%;background:white;margin-right:8px;aspect-ratio:12 / 12;img{height:100%;}"]),ht=i("div").withConfig({displayName:"Style__DescriptionContainer",componentId:"sc-sh6ww9-2"})(["height:100%;display:flex;flex:60%;flex-direction:column;align-items:center;"]),wt=i("h2").withConfig({displayName:"Style__Title",componentId:"sc-sh6ww9-3"})(["width:100%;display:flex;font-size:1vw;font-weight:bold;@media only screen and (max-width:600px){font-size:3.5vw;}"]),ft=i("h3").withConfig({displayName:"Style__SubTitle",componentId:"sc-sh6ww9-4"})(["width:100%;color:gray;font-size:.6vw;@media only screen and (max-width:600px){font-size:3vw;}"]),yt=i("img").withConfig({displayName:"Style__OGImage",componentId:"sc-sh6ww9-5"})(["  border-radius:1vw;"]);i("span").withConfig({displayName:"Style__OGUrl",componentId:"sc-sh6ww9-6"})(["  color:gray;font-size:1vw;"]);i("h3").withConfig({displayName:"Style__OGTitle",componentId:"sc-sh6ww9-7"})(["font-size:1vw;margin:.6vw 0 .1vw 0;color:gray;font-weight:bold;"]);i("p").withConfig({displayName:"Style__OGDescription",componentId:"sc-sh6ww9-8"})(["  color:gray;font-size:.8vw;max-height:35vh;overflow-y:scroll;"]);const Et=({rec:t})=>{var d,l,c,u;let o=null;const{topic:n,subTopic:r}=t,a=te({contentUrl:t.externalRecommendedContent}),s=ut(t);if(n)if(n!=null&&n.ytUrl){const p=/^.*(youtu\.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,h=n.ytUrl.match(p);h&&h[2].length===11&&(o=e.createElement("img",{src:`http://img.youtube.com/vi/${h[2]}/sddefault.jpg`,alt:"No Thumb"}))}else!(n!=null&&n.ytUrl)&&(n==null?void 0:n.contentUrl)&&(o=e.createElement("img",{src:n.thumbImgUrl,alt:"No Thumb"}));return e.createElement(pt,{onClick:s},e.createElement(gt,null,o,a&&e.createElement(yt,{src:(d=a.ogImage)==null?void 0:d.url,alt:""})),e.createElement(ht,null,e.createElement(wt,null,t.topic?t.topic.title:(l=t.subTopic)==null?void 0:l.title,a&&a.ogTitle),e.createElement(ft,null,((c=t.topic)==null?void 0:c.createdBy)||((u=t.subTopic)==null?void 0:u.createdBy),a&&(a==null?void 0:a.ogDescription))))},xt=m.exports.memo(Et),Ct=i("ul").withConfig({displayName:"Style__RecListContainer",componentId:"sc-pg63zu-0"})(["width:100%;display:flex;flex-direction:column;background:white;"]),j=({recs:t})=>e.createElement(Ct,null,t.map((o,n)=>e.createElement(xt,{key:String(n),rec:o}))),vt=()=>{const[t,o]=m.exports.useState("recs"),{topicId:n}=E(),{getAllRecs:r,getAllOpposingRecs:a}=x(dt,_e);m.exports.useEffect(()=>{a(n),r(n)},[n]);const s=g(l=>l.recommendations.recs),d=g(l=>l.recommendations.opposingRecs);return e.createElement(it,null,e.createElement(U,{activeKey:t,onSelect:l=>o(l)},e.createElement(w,{eventKey:"recs",title:"Recommended Content"},e.createElement(j,{recs:s})),e.createElement(w,{eventKey:"opposingRecs",title:"Opposing Views"},e.createElement(j,{recs:d}))))},Jt=()=>{var u;const{topicId:t,"*":o}=E(),[n,r]=o?o.match(z):[],{getAllSubTopics:a,getTopic:s}=x(A,T),d=(u=g(p=>p.topics.list))==null?void 0:u.find(p=>p.id===t),l=g(p=>p.subtopics),c=g(p=>p.session.currentUser);return m.exports.useEffect(()=>{c&&s(t,c.userId),l&&a(t)},[t,n,c]),e.createElement(Ne,null,e.createElement(pe,null,e.createElement(ge,null,e.createElement(he,null)),e.createElement(we,null,e.createElement(ke,null,e.createElement(Re,null,e.createElement(je,{topic:d,user:c})),e.createElement(S,null),r&&e.createElement(Ve,{topicId:t}))),e.createElement(fe,null,e.createElement(vt,null))),e.createElement(rt,null))};export{Jt as default};
