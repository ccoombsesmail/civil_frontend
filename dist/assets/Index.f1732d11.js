import{d as o,r as T,R as e,i as p,L as u,u as L}from"./vendor.0dc98fef.js";import{H as z,L as A,U as M,M as $,R as D}from"./Index.f6300c6a.js";import{u as R,aj as j,ak as P,al as B,am as H,a0 as Y,an as C,ao as k,ap as x,aq as I,ar as N}from"./index.43cdcd02.js";import{g as h}from"./dateFormatter.922bcdf9.js";import{U as v}from"./Index.faa60f37.js";import"./@clerk/clerk-react.6c71122b.js";import"./Index.32d86a3d.js";import"./index.7c84f60a.js";import"./CaptchaGateway.c92dd090.js";import"./Index.31c6c60e.js";import"./Index.73362e46.js";import"./redux.3f1f2b08.js";import"./@elastosfoundation/did-js-sdk.ab585390.js";import"./axios.391ccac8.js";import"./socket.io-client.b610e832.js";import"./redux-thunk.1b3bbe7b.js";import"./unicode-emoji-picker.85c61051.js";const G=o("div").withConfig({displayName:"Style__MenuTimeContainer",componentId:"sc-109yf7v-0"})(["  z-index:99999;display:flex;flex-direction:column;height:100%;justify-content:space-between;align-items:flex-end;padding:5px 0;width:8%;border-left:1px solid lightgray;border-color:rgba(200,200,200,0.25);"]),O=o("span").withConfig({displayName:"Style__Time",componentId:"sc-109yf7v-1"})(["color:gray;font-size:1vw;padding:0 10px;"]),q=o("div").withConfig({displayName:"Style__MenuIconContainer",componentId:"sc-109yf7v-2"})(["  position:relative;padding:10px;background-color:lightgray;border-radius:.1vw;display:flex;align-items:center;justify-content:center;color:#2cdd9b;background-color:#e5f7f0;border-color:#d8f7eb;transition:all 1s;cursor:pointer;:hover{filter:brightness(0.85);}"]),V=o("ul").withConfig({displayName:"Style__ActionMenu",componentId:"sc-109yf7v-3"})(["z-index:99999;display:flex;border:.5px solid lightgray;border-color:rgba(200,200,200,0.25);flex-direction:column;justify-content:center;position:absolute;transform:translate(-55%,55%);display:",";width:10vw;background-color:white;box-shadow:0px 10px 20px rgb(60 60 60 / 10%);border-radius:.5em;margin:0;"],n=>n.isOpen?"block":"none"),w=o("li").withConfig({displayName:"Style__ActionMenuItem",componentId:"sc-109yf7v-4"})(["list-style:none;width:100%;display:flex;justify-content:space-between;align-items:center;padding:10px 20px;border-radius:var(--border-radius);margin:0 !important;color:black;transition:none;:hover{background-color:var(--m-btn-hover-color);}span{font-weight:500;font-size:.65vw !important;}"]),f=({time:n,id:t,eventType:i})=>{const[a,l]=T.exports.useState(!1),{updateNotificationToRead:c,deleteNotification:s}=R(j);return e.createElement(G,null,e.createElement(q,{onClick:r=>{r.stopPropagation(),l(d=>!d);const m=()=>{l(d=>!d),document.getElementById("notifications-container").removeEventListener("click",m)};document.getElementById("notifications-container").addEventListener("click",m)}},e.createElement(P,null),e.createElement(V,{isOpen:a,onClick:r=>r.stopPropagation()},e.createElement(w,{onClick:()=>c(i,t)},e.createElement(B,null),e.createElement("span",null,"Mark As Read")),e.createElement(w,{onClick:()=>s(i,t)},e.createElement(H,null),e.createElement("span",null,"Delete Notification")))),e.createElement(O,null,n))},y=o("div").withConfig({displayName:"Style__LeftContainer",componentId:"sc-16x68u9-0"})(["width:22%;height:100%;display:flex;align-items:center;img{height:5vh;}border-right:1px solid lightgray;border-color:rgba(200,200,200,0.25);:hover{background-color:#F2F2F2;}"]);o("div").withConfig({displayName:"Style__RightContainer",componentId:"sc-16x68u9-1"})(["width:20%;display:flex;align-items:center;img{height:5vh;}"]);const E=o("div").withConfig({displayName:"Style__MiddleContainer",componentId:"sc-16x68u9-2"})(["position:relative;width:50%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;img{height:3vh;position:absolute;top:8px;}svg{height:3vh;min-height:30px;position:absolute;top:8px;}h3{font-size:.9vw;}a{font-weight:bold;color:var(--m-primary-btn-color);:hover{filter:brightness(0.85);}}"]),b=o("img").withConfig({displayName:"Style__ProfileIcon",componentId:"sc-16x68u9-3"})(["height:70%;border-radius:50%;cursor:pointer;margin:0 .6vw;"]),J=({notification:n})=>{const t=p(),{givingUserId:i,givingUserUsername:a,givingUserIconSrc:l,givingUserTag:c,createdAt:s,id:r}=n;return e.createElement(e.Fragment,null,e.createElement(y,{onClick:()=>t(`/user/${i}`)},e.createElement(b,{src:l}),e.createElement(v,{userId:i,usernameDisplay:a,userTag:c})),e.createElement(E,null,e.createElement(Y,{size:"15vh"}),e.createElement("h3",null," ",e.createElement(u,{to:`/user/${i}`},e.createElement("b",null,a))," ","Followed You")),e.createElement(f,{time:h(s),id:r,eventType:C}))},K=({notification:n})=>{const{givingUserId:t,givingUserUsername:i,givingUserIconSrc:a,givingUserTag:l,topicId:c,subtopicId:s,commentId:r,createdAt:m,old:d,new:g,id:_}=n,S=p(),F=U=>{U.stopPropagation()};return e.createElement(e.Fragment,null,e.createElement(y,{onClick:()=>S(`/user/${t}`)},e.createElement(b,{src:a}),e.createElement(v,{userId:t,usernameDisplay:i,userTag:l})),e.createElement(E,null,n.new<0?e.createElement("img",{alt:"",src:"https://civil-dev.s3.us-west-1.amazonaws.com/assets/no-handshake-clicked.png"}):e.createElement("img",{alt:"",src:"https://civil-dev.s3.us-west-1.amazonaws.com/assets/handshake-clicked.png"}),e.createElement("h3",null,e.createElement("b",null,i)," ","Updated Civility Given For Your"," ",e.createElement(u,{onClick:F,to:`/home/topics/${c}/subtopics/${s}/comments/${r}`},"Comment")," ",`from ${d.toFixed(2)} to ${g.toFixed(2)} Civility ${d<g?"\u{1F60A}":"\u2639\uFE0F"}`)),e.createElement(f,{time:h(m),id:_,eventType:k}))},Q=o("li").withConfig({displayName:"Style__Item",componentId:"sc-1v0qyzs-0"})(["display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid gray;width:100%;height:15vh;background-color:white;padding-right:.5vw;transition:all 0.5s;:hover{background-color:#F8F9FA;}"]),W=({notification:n})=>{const{givingUserId:t,givingUserUsername:i,givingUserIconSrc:a,givingUserTag:l,topicId:c,subtopicId:s,commentId:r}=n,m=p(),d=g=>{g.stopPropagation()};return e.createElement(e.Fragment,null,e.createElement(y,{onClick:()=>m(`/user/${t}`)},e.createElement(b,{src:a}),e.createElement(v,{userId:t,usernameDisplay:i,userTag:l})),e.createElement(E,null,e.createElement("h3",null,e.createElement("b",null,i)," ","Liked Your"," ",e.createElement(u,{onClick:d,to:`/home/topics/${c}/subtopics/${s}/comments/${r}`},"Comment!")," ","\u{1F60A}"),e.createElement(x,null)),e.createElement(f,{time:h(n.createdAt),id:n.id,eventType:I}))},X=({notification:n})=>{const{givingUserId:t,givingUserUsername:i,givingUserIconSrc:a,givingUserTag:l,topicId:c}=n,s=p(),r=m=>{m.stopPropagation()};return e.createElement(e.Fragment,null,e.createElement(y,{onClick:()=>s(`/user/${t}`)},e.createElement(b,{src:a}),e.createElement(v,{userId:t,usernameDisplay:i,userTag:l})),e.createElement(E,null,e.createElement("h3",null,e.createElement("b",null,i)," ","Liked Your"," ",e.createElement(u,{onClick:r,to:`/home/topics/${c}/subtopics`},"Topic!")," ","\u{1F60A}"),e.createElement(x,null)),e.createElement(f,{time:h(n.createdAt),id:n.id,eventType:N}))},Z=({notification:n})=>{let t,i;switch(n.eventType){case C:t=J;break;case k:t=K;break;case I:t=W;break;case N:t=X;break}return e.createElement(Q,{onClick:i},e.createElement(t,{notification:n}))},ee=o("div").withConfig({displayName:"Style__BorderContainer",componentId:"sc-14kwzmf-0"})(["border:1px solid gray;border-top:none;z-index:9999;background-color:white;min-height:calc(100vh - var(--nav-size));"]),te=o("ul").withConfig({displayName:"Style__NotificationList",componentId:"sc-14kwzmf-1"})(["display:flex;flex-direction:column;align-items:center;flex-wrap:wrap;padding:0;padding-bottom:30vh;background-color:#F0F2F5;background-color:white;"]),ne=o("div").withConfig({displayName:"Style__Container",componentId:"sc-14kwzmf-2"})(["position:relative;display:flex;flex-direction:column;align-items:center;height:100%;"]),ie=o("header").withConfig({displayName:"Style__Header",componentId:"sc-14kwzmf-3"})(["  width:100%;border-bottom:1px solid gray;padding:2vw 0;display:flex;justify-content:center;align-items:center;p{margin:0 1vw;font-size:1.1vw;display:flex;align-items:center;}"]),we=()=>{const n=L(t=>t.notifications.userNotificationsList);return e.createElement(z,null,e.createElement(A,null,e.createElement(M,null)),e.createElement($,null,e.createElement(ne,{id:"notifications-container"},e.createElement(ee,null,e.createElement(ie,null,e.createElement("p",null,"Recent Notifications")),e.createElement(te,null,n.map(t=>e.createElement(Z,{key:t.id,notification:t})))))),e.createElement(D,null,e.createElement("span",null,".")))};export{we as default};
