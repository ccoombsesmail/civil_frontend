import{d as s,r as i,R as e,a0 as g}from"./vendor.0dc98fef.js";const h=s.div.withConfig({displayName:"Style__Container",componentId:"sc-1xpjs1z-0"})(["background-color:white;border-radius:.5em;margin-bottom:1em;min-width:92%;position:relative;.ql-snow.ql-toolbar:after{display:none;}.ql-toolbar{border-top-left-radius:.5em;border-top-right-radius:.5em;}.ql-container{border-bottom-left-radius:.5em;border-bottom-right-radius:.5em;}#toolbar{button:after{display:none;}}"]),x=s("button").withConfig({displayName:"Style__EmojiButton",componentId:"sc-1xpjs1z-1"})(["position:relative;display:flex;align-items:center;&:after{display:none;}"]),C=s("div").withConfig({displayName:"Style__EmojiContainer",componentId:"sc-1xpjs1z-2"})(["  position:absolute;background:white;z-index:9999999;transform:translate(-90%,-90%) scale(.8);"]),j=s("div").withConfig({displayName:"style__Overlay",componentId:"sc-1oyvsj6-0"})(["z-index:999999;position:fixed;top:0;bottom:0;right:0;left:0;background-color:#000;opacity:0.1;"]),v=({content:a,setContent:l,setToxicityScore:o})=>{const[n,u]=i.exports.useState(!0),y={toolbar:{container:"#toolbar"}},f=i.exports.useCallback((m,p,d,t)=>{l({rawHTML:t.getHTML(),content:t.getContents(),rawText:t.getText()}),o&&o(null)},[]),c=i.exports.useRef(null),r=i.exports.useRef(null);i.exports.useEffect(()=>{c&&document.querySelector("unicode-emoji-picker").addEventListener("emoji-pick",p=>{var d;if(r.current){const{editor:t}=r.current,b=((d=t.getSelection())==null?void 0:d.index)||t.getLength()-1;t.insertText(b,`${p.detail.emoji}`),t.setSelection(b+2)}})},[c,r]);const E=["bold","italic","underline","strike","blockquote","clean"];return e.createElement(h,{className:"text-editor"},e.createElement(j,{hidden:n,onClick:()=>u(m=>!m)}),e.createElement(q,{setIsHidden:u,pickerRef:c,isHidden:n}),e.createElement(g,{ref:r,theme:"snow",value:a,onChange:f,modules:y,formats:E,placeholder:"Say something..."}))},k=({isHidden:a,pickerRef:l,setIsHidden:o})=>e.createElement(e.Fragment,null,e.createElement("span",{onClick:()=>o(n=>!n),onKeyDown:()=>o(n=>!n),role:"button",tabIndex:0},"\u{1F642}"),e.createElement(C,{hidden:a},e.createElement("unicode-emoji-picker",{ref:l,version:"14.0"}))),q=({setIsHidden:a,isHidden:l,pickerRef:o})=>e.createElement("div",{id:"toolbar",style:{width:"100%",display:"flex",justifyContent:"space-between"}},e.createElement("div",null,e.createElement("button",{type:"button",className:"ql-bold"}),e.createElement("button",{type:"button",className:"ql-italic"}),e.createElement("button",{type:"button",className:"ql-underline"}),e.createElement("button",{type:"button",className:"ql-strike"}),e.createElement("button",{type:"button",className:"ql-blockquote"}),e.createElement("button",{type:"button",className:"ql-clean"})),e.createElement(x,{type:"button",className:"ql-insertEmoji"},e.createElement(k,{pickerRef:o,isHidden:l,setIsHidden:a})));export{v as R};
