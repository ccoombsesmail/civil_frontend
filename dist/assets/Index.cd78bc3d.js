import{k as l,d as s,r as m,R as r}from"./vendor.0dc98fef.js";import{U as f,B as d,d as w,e as p,f as E,g as x,h as _,i as T}from"./index.43cdcd02.js";import{L as v}from"./index.7c84f60a.js";import{a as c}from"./axios.391ccac8.js";const C=e=>c.post(`${d}/topics`,e),$=()=>c.get(`${d}/topics`),k=(e,t)=>c.get(`${d}/topics/${e}/${t}`),D=e=>c.put(`${d}/topics`,e),L=(e,t,a)=>c.post(`${f}/topics/upload-media?fileType=${t}&fileFormat=${a}`,e),I=e=>c.get(`${f}/topics/link-meta-data?url=${e}`),O=e=>({type:E,payload:e}),u=e=>({type:x,payload:e}),A=e=>({type:_,payload:e}),y=e=>t=>C(e).then(a=>t(u(a.data))).finally(()=>t(w())).catch(a=>l.error(p(a))),S=()=>e=>$().then(t=>e(O(t.data))).catch(t=>l.error(p(t))),b=(e,t)=>a=>k(e,t).then(n=>a(u(n.data))).catch(n=>l.error(p(n))),G=e=>t=>D(e).then(a=>t(A(a.data))).catch(a=>l.error(p(a))),M=(e,t,a,n)=>o=>L(e,t,a).then(i=>{y({...n,...i.data})(o)}).catch(i=>l.error(p(i))),J={createTopic:y,getAllTopics:S,getTopic:b,updateTopicLikes:G,uploadTopicMedia:M},N=s("div").withConfig({displayName:"Style__Container",componentId:"sc-1toi8rg-0"})(["min-width:70%;width:100%;"]),U=s("a").withConfig({displayName:"Style__LinkWrapper",componentId:"sc-1toi8rg-1"})(["text-decoration:none;"]),z=s("div").withConfig({displayName:"Style__FlexDiv",componentId:"sc-1toi8rg-2"})(["  display:flex;flex-direction:column;align-items:center;margin:.5vw auto;width:85%;box-shadow:5px 5px 5px -3px #aaaaaa;border-radius:1vw;border:1px solid rgb(207,217,222);padding:1em;:hover{opacity:.8;}"]),P=s("img").withConfig({displayName:"Style__OGImage",componentId:"sc-1toi8rg-3"})(["  border-radius:1vw;"]),R=s("span").withConfig({displayName:"Style__OGUrl",componentId:"sc-1toi8rg-4"})(["  color:gray;font-size:1vw;white-space:pre-wrap;word-wrap:break-word;hyphens:auto;max-width:90%;@media only screen and (max-width:600px){font-size:3vw;}"]),q=s("h3").withConfig({displayName:"Style__OGTitle",componentId:"sc-1toi8rg-5"})(["font-size:1vw;margin:.6vw 0 .1vw 0;color:gray;font-weight:bold;@media only screen and (max-width:600px){font-size:3vw;}"]),B=s("p").withConfig({displayName:"Style__OGDescription",componentId:"sc-1toi8rg-6"})(["  color:gray;font-size:.8vw;max-height:35vh;overflow-y:scroll;@media only screen and (max-width:600px){font-size:3vw;}"]),F=(e,t,a,n)=>{const[o,i]=m.exports.useState(null);return m.exports.useEffect(()=>{const h=async()=>{i(null);const{data:g}=await I((e==null?void 0:e.contentUrl)||t);typeof a=="function"&&a(g),i(g),typeof n=="function"&&n(!1)};((e==null?void 0:e.contentUrl)||t)&&h()},[]),o},K=({topic:e,contentUrl:t,setMetaData:a,setIsLoading:n})=>{var i;const o=F(e,t,a,n);return m.exports.useEffect(()=>{n(!0)},[t]),r.createElement(N,null,o?r.createElement(U,{href:o.ogUrl,target:"_blank"},r.createElement(z,null,r.createElement(q,null,o.ogTitle||o.ogSiteName),r.createElement(R,null,o.ogUrl),r.createElement(P,{src:((i=o.ogImage)==null?void 0:i.url)||o.favicon,alt:""}),r.createElement(v,null),r.createElement(B,null,o.ogDescription))):r.createElement("a",{rel:"noreferrer",href:o==null?void 0:o.requestUrl,target:"_blank"},o==null?void 0:o.requestUrl))},V=T(K),Q=({imgFile:e,videoFile:t,setMetaData:a,contentUrl:n})=>r.createElement(r.Fragment,null,n&&r.createElement(V,{setMetaData:a,contentUrl:n}),e&&r.createElement("img",{src:e,alt:""}),t&&r.createElement("video",{controls:!0},r.createElement("track",{default:!0,kind:"captions",srcLang:"en"}),r.createElement("source",{src:t,type:"video/mp4"}),"Your browser does not support the video tag."));export{Q as D,V as L,I as g,J as t,F as u};
