import{d as r,k as C,r as s,R as e,M as l}from"./vendor.0dc98fef.js";import{b as w,a as y,F as u}from"./formik.1e3cbfb7.js";import{T as v}from"./Index.906ab2cd.js";import{C as f}from"./Index.4c61891d.js";import{B as V,e as k,d as E,ad as I,u as F,b as T}from"./index.43cdcd02.js";import{a as _}from"./axios.391ccac8.js";import"./index.3229f831.js";import"./redux.3f1f2b08.js";import"./@clerk/clerk-react.6c71122b.js";import"./@elastosfoundation/did-js-sdk.ab585390.js";import"./socket.io-client.b610e832.js";import"./redux-thunk.1b3bbe7b.js";import"./unicode-emoji-picker.85c61051.js";const A=r(w).withConfig({displayName:"Index__FormContainer",componentId:"sc-1s8e4pw-0"})(["margin-top:0;border-radius:.5em;position:relative;"]),S=r("ul").withConfig({displayName:"Index__ItemList",componentId:"sc-1s8e4pw-1"})(["  display:flex;width:100%;align-items:center;justify-content:space-evenly;"]),x=r("li").withConfig({displayName:"Index__Item",componentId:"sc-1s8e4pw-2"})(["display:flex;flex-direction:column;justify-content:space-between;align-items:center;position:relative;width:40%;min-height:clamp(200px,15vw,450px);box-shadow:0px 10px 20px rgb(60 60 60 / 10%);border-radius:.5em;background-color:var(--m-secondary-background-color);font-size:1vw;padding:2vw;margin:1vw 0;"]),B=r("div").withConfig({displayName:"Index__Container",componentId:"sc-1s8e4pw-3"})(["position:relative;h1{width:100%;margin:0;text-align:center;padding-bottom:.5em;border-bottom:1px solid black;}"]),b=r("p").withConfig({displayName:"Index__ItemDescription",componentId:"sc-1s8e4pw-4"})(["display:flex;align-items:center;justify-content:flex-start;flex:80%;margin:unset !important;@media only screen and (max-width:800px){font-size:3vw;}"]),D=t=>_.post(`${V}/tribunal-votes`,t),N=t=>({type:I,payload:t}),H=t=>n=>D(t).then(o=>n(N(o.data))).catch(o=>C.error(k(o))).finally(()=>n(E())),R={createTribunalVote:H},j=(t,n,o)=>{const{createTribunalVote:i}=F(T,R);return s.exports.useCallback((c,{setSubmitting:m,resetForm:d})=>{const p={contentId:t,voteAgainst:o||null,voteFor:n||null};C.promise(i(p),{pending:"Submitting Your Vote...",success:"Vote Successfully Cast!",error:{render({data:a}){const{response:g}=a,{data:h}=g;return`${h.msg} \u{1F92F} `}}}),m(!1),d({})},[t,n,o])},L=({contentId:t})=>{const[n,o]=s.exports.useState(!1),[i,c]=s.exports.useState(!1),m=j(t,n,i),d=s.exports.useCallback(()=>{o(a=>!a),c(!1)},[]),p=s.exports.useCallback(()=>{c(a=>!a),o(!1)},[]);return e.createElement(B,null,e.createElement(y,{initialValues:{voteAgainst:!1,voteFor:!1},validate:()=>({}),onSubmit:m},({isSubmitting:a})=>e.createElement(e.Fragment,null,e.createElement(l.Header,{closeButton:!0},e.createElement(l.Title,null,"Cast Your Vote")),e.createElement(A,null,e.createElement(l.Body,null,e.createElement(S,null,e.createElement(x,null,e.createElement(b,null,"Vote To Indicate This Content Has Violated Community Guidlines And Should Be Removed"),e.createElement(u,{name:"voteAgainst",checked:i,onClick:p,showCheckmark:!1,component:f})),e.createElement(x,null,e.createElement(b,null,"Vote To Indicate This Content Has Not Violated Community Guidlines"),e.createElement(u,{name:"voteFor",checked:n,onClick:d,showCheckmark:!1,component:f})))),e.createElement(l.Footer,null,e.createElement(v,{type:"submit",disabled:a},"Submit"))))))},X=s.exports.memo(L);export{X as default};
