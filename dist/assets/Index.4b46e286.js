import{d as i,r as o,i as B,l as O,R as t,O as $,X as j,Q as F,V as W}from"./vendor.0dc98fef.js";import{t as M,c as L,U as D,a as Y,u as E}from"./useDetectCurrentPage.b5fea03e.js";import{t as R,L as G,D as J}from"./Index.cd78bc3d.js";import{W as Q,S as k,u as V,F as q,H as K,y,J as X,K as Z,L as ee,M as te,N as ne,R as ae,z as re,O as se,Q as oe,D as ie,E as le}from"./index.43cdcd02.js";import{a as de}from"./Index.906ab2cd.js";import{g as me}from"./dateFormatter.922bcdf9.js";import{u as S}from"./useOpenModal.986cd8ad.js";const h="TOPIC",f="COMMENT",P="TRIBUNAL_COMMENT",ce=i("span").withConfig({displayName:"Style__Warning",componentId:"sc-ulhwx4-0"})(["display:flex;flex-direction:column;svg{margin-right:.5vw;}"]),ue=i("div").withConfig({displayName:"Style__MessageContainer",componentId:"sc-ulhwx4-1"})(["  z-index:99999;display:flex;flex-direction:column;align-items:center;justify-content:space-between;position:absolute;margin-top:",";top:50%;left:50%;transform:translate(-50%,-50%);background:var(--m-menu-item-hover);width:90%;border-radius:.5em;padding:20px 10px 10px 10px;cursor:pointer;height:",";width:clamp(330px,70%,800px);"],e=>e.contentType===f?"50px":"0",e=>e.contentType===f?"clamp(0px, 60%, 200px)":"clamp(250px, 60%, 400px)"),pe=i("h3").withConfig({displayName:"Style__Message",componentId:"sc-ulhwx4-2"})(["text-align:center;font-weight:bold;font-size:.85vw;@media only screen and (max-width:800px){font-size:3.7vw;}:hover{filter:brightness(.95)}"]),ge=({setShouldBlur:e,contentId:a,contentType:r,showNavigationToTribunal:s})=>{const n=B();return O(),t.createElement(ue,{onClick:l=>{l.stopPropagation(),e(d=>!d)},contentType:r},t.createElement(pe,null,"This Topic Has Been Reported or Flagged By AI And May Contain Explicit Visuals Or Offensive Language"),t.createElement(ce,null,t.createElement("div",null,t.createElement(Q,null),"Click To See Content At Your Own Risk!")),s?t.createElement(de,{onClick:()=>n(`/tribunal/${r}/${a}`)},t.createElement(k,null),"See Ongoing Review Process",t.createElement(k,null)):t.createElement("span",null))},he=o.exports.memo(ge),fe=(e,a,r)=>{const{updateTopicLikes:s,updateCommentLikes:n,updateTribunalCommentLikes:l}=V(R,L,M);return o.exports.useCallback(()=>{let d;switch(e.likeState){case-1:d=1;break;case 0:d=1;break;case 1:d=0;break}const m={id:e==null?void 0:e.id,commentId:e==null?void 0:e.id,userId:a==null?void 0:a.userId,value:d,createdById:e.createdById||e.userId};switch(r){case h:s(m);break;case f:n(m);break;case P:l(m);break}},[e])},ye=({content:e,user:a,contentType:r})=>{const s=fe(e,a,r),n=o.exports.useMemo(()=>(e==null?void 0:e.likeState)===1?t.createElement(q,null):t.createElement(K,null),[e==null?void 0:e.likeState]);return t.createElement(y,{icon:n,onClick:s})},we=o.exports.memo(ye),xe=(e,a,r)=>{const{updateTopicLikes:s,updateCommentLikes:n,updateTribunalCommentLikes:l}=V(R,L,M);return o.exports.useCallback(()=>{let d;switch(e.likeState){case-1:d=0;break;case 0:d=-1;break;case 1:d=-1;break}const m={id:e==null?void 0:e.id,commentId:e==null?void 0:e.id,userId:a==null?void 0:a.userId,value:d,createdById:e.createdById||e.userId};switch(r){case h:s(m);break;case f:n(m);break;case P:l(m);break}},[e])},be=({content:e,user:a,contentType:r})=>{const s=xe(e,a,r),n=o.exports.useMemo(()=>(e==null?void 0:e.likeState)===-1?t.createElement(X,null):t.createElement(Z,null),[e==null?void 0:e.likeState]);return t.createElement(y,{icon:n,onClick:s})},Ce=o.exports.memo(be),ve=i("div").withConfig({displayName:"Style__Container",componentId:"sc-bn7wzs-0"})(["position:relative;"]),ke=i("ul").withConfig({displayName:"Style__Menu",componentId:"sc-bn7wzs-1"})(["  display:flex;border:1px solid lightgray;border-color:rgba(200,200,200,0.25);flex-direction:column;justify-content:center;position:absolute;transform:translate(-95%,-95%);display:",";width:15vw;background-color:white;box-shadow:0px 10px 20px rgb(60 60 60 / 10%);border-radius:.5em;margin:0;svg{width:2.2em !important;height:2.2em !important;}@media only screen and (max-width:600px){width:70vw;}"],e=>e.isOpen?"block":"none"),Ee=i("li").withConfig({displayName:"Style__Item",componentId:"sc-bn7wzs-2"})(["  list-style:none;width:100%;display:flex;justify-content:space-between;align-items:center;padding:10px 20px;border-radius:var(--border-radius);margin:0 !important;:hover,:active{background-color:var(--m-btn-hover-color);}span{font-weight:500;font-size:.85vw;@media only screen and (max-width:600px){font-size:3vw;}}"]),Se=({contentId:e})=>{const[a,r]=o.exports.useState(!1),s=S(ee,{contentId:e}),n=o.exports.useCallback(()=>{s(),r(!1)},[s]);return t.createElement(ve,null,t.createElement(ke,{isOpen:a,onClick:l=>l.stopPropagation()},t.createElement(Ee,{onClick:n},t.createElement(te,null),t.createElement("span",null,"Report Content To Jury"))),t.createElement(k,{onClick:l=>{l.stopPropagation(),r(d=>!d)}}))},Ie=o.exports.memo(Se),_e=i.div.withConfig({displayName:"Style__Container",componentId:"sc-1i9oxj5-0"})(["display:flex;width:100%;border-radius:.5em;justify-content:space-between;align-items:center;padding:0 .5em;span{color:black;}img{width:1.5em;height:1.5em;cursor:pointer;margin:.3em .5em;}svg{width:1.5em;height:1.5em;margin:.3em .5em;}"]),Te=i("div").withConfig({displayName:"Style__Left",componentId:"sc-1i9oxj5-1"})(["display:flex;align-items:center;"]),Ne=i("div").withConfig({displayName:"Style__Right",componentId:"sc-1i9oxj5-2"})(["display:flex;align-items:center;"]);i("span").withConfig({displayName:"Style__Likes",componentId:"sc-1i9oxj5-3"})([""]);const N="UNDER_REVIEW";i("div").withConfig({displayName:"Style__Header",componentId:"sc-1vbbukg-0"})(["  position:relative;display:flex;align-items:center;width:100%;padding:.5em .5em;background-color:white;transition:filter 1s ease-in-out;div{height:100%;flex-grow:1;display:flex;align-items:center;margin-left:1em;background-color:white;}time{position:absolute;top:1em;right:1em;color:gray;font-size:.5em;}h3{padding:.1em;font-size:.9em;margin:0;border-top-left-radius:.5em;border-top-right-radius:.5em;font-weight:bold;color:gray;}"]);const U=i("div").withConfig({displayName:"Style__Body",componentId:"sc-1vbbukg-1"})(["filter:",";pointer-events:",";width:100%;background-color:white;transition:all 1s ease-in-out;background-color:white;display:flex;flex-direction:column;align-items:center;.twitter-tweet{max-width:90%;}"],e=>e.shouldBlur?"blur(25px)":"unset",e=>e.shouldBlur?"none":"initial"),z=i("p").withConfig({displayName:"Style__Description",componentId:"sc-1vbbukg-2"})(["  filter:",";width:100%;padding:2vw 0;margin-bottom:0;font-size:1.2vw;position:relative;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;background-color:white;color:black;font-weight:bold;@media only screen and (max-width:600px){font-size:5vw;}"],e=>e.shouldBlur?"blur(25px)":"unset");i("div").withConfig({displayName:"Style__ArrowContainer",componentId:"sc-1vbbukg-3"})(["background-color:white;display:flex;width:100%;height:1vw;padding-top:.4vw;justify-content:center;transition:filter 1s ease-in-out;svg{position:relative !important;}"]);const Be=i("li").withConfig({displayName:"Style__Container",componentId:"sc-1vbbukg-4"})(["  position:relative;display:flex;flex-direction:column;align-items:center;height:",";min-width:40vw;width:100%;flex:33%;margin:2em 0;border-radius:.5em;box-shadow:-5px -5px 10px #5a5a5a,5px 5px 10px #ffffff;border:none;cursor:pointer;overflow:hidden;text-decoration:none;:hover > div:first-child{filter:brightness(.95);}:hover p{filter:",";}@media only screen and (max-width:800px){width:70vw;border-radius:0;}@media only screen and (max-width:600px){width:100%;border-radius:0;margin:4vw auto;}"],e=>`${e.height}px`,e=>e.shouldBlur?"blur(15px)":"brightness(.95)");i("img").withConfig({displayName:"Style__Thumb",componentId:"sc-1vbbukg-5"})(["  flex-shrink:0;width:50px;height:50px;border-radius:50%;"]);const Oe=i("li").withConfig({displayName:"Style__VideoDescriptionContainer",componentId:"sc-1vbbukg-6"})(["  position:relative;display:flex;flex-direction:column;align-items:center;height:",";margin:0 2em;border-bottom-left-radius:.5em;border-bottom-right-radius:.5em;box-shadow:-5px -5px 10px #5a5a5a,5px 5px 10px #ffffff;border:none;cursor:pointer;overflow:hidden;text-decoration:none;:hover > div:first-child{filter:brightness(.95);}:hover p{filter:",";}@media only screen and (max-width:600px){width:100%;border-radius:0;}"],e=>`${e.height}px`,e=>e.shouldBlur?"blur(15px)":"brightness(.95)");i("div").withConfig({displayName:"Style__BlurOverlay",componentId:"sc-1vbbukg-7"})(["width:100%;height:100%;filter:",";"],e=>e.shouldBlue?"blur(15px)":"unset");i("span").withConfig({displayName:"Style__Warning",componentId:"sc-1vbbukg-8"})(["display:flex;flex-direction:column;svg{margin-right:.5vw;}"]);i("div").withConfig({displayName:"Style__MessageContainer",componentId:"sc-1vbbukg-9"})(["  z-index:99999;display:flex;flex-direction:column;align-items:center;justify-content:center;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background:var(--m-menu-item-hover);width:90%;border-radius:.5em;padding:20px;cursor:pointer;height:200px;"]);i("h3").withConfig({displayName:"Style__Message",componentId:"sc-1vbbukg-10"})(["font-weight:bold;:hover{filter:brightness(.95)}"]);const I=({children:e,onClick:a,listCard:r,height:s,topic:n})=>{const l=o.exports.useRef(null),{pathname:d}=O(),[m,u]=o.exports.useState("unset"),[c,w]=o.exports.useState((n==null?void 0:n.reportStatus)===N);o.exports.useEffect(()=>{var p;const b=[...(p=l==null?void 0:l.current)==null?void 0:p.children].reduce((C,v)=>{const g=window.getComputedStyle(v).getPropertyValue("height");return C+Number(g.slice(0,g.length-2))},0);s&&u(b+s)},[l]);const x=o.exports.useMemo(()=>c?()=>null:a,[c]);return t.createElement(Be,{ref:l,height:m,onClick:x,listCard:r,shouldBlur:c},t.createElement(D,{iconSrc:n==null?void 0:n.createdByIconSrc,time:me(n==null?void 0:n.createdAt),username:n==null?void 0:n.createdBy,userId:n==null?void 0:n.userId,userTag:n==null?void 0:n.createByTag,topicCreatorIsDidUser:n==null?void 0:n.topicCreatorIsDidUser,userVerificationType:n==null?void 0:n.userVerificationType}),c&&t.createElement(he,{setShouldBlur:w,contentId:n==null?void 0:n.id,contentType:h,showNavigationToTribunal:(n==null?void 0:n.reportStatus)===N&&!d.includes("tribunal")}),t.createElement(z,{className:"text-pop-up-top",shouldBlur:c},"\u201C",n==null?void 0:n.summary,"\u201D"),t.createElement(U,{shouldBlur:c},e))},et=({children:e,summary:a,iconSrc:r,username:s,time:n,onClick:l,listCard:d,height:m,userId:u})=>{const c=o.exports.useRef(null),[w,x]=o.exports.useState("unset");return o.exports.useEffect(()=>{var p;const b=[...(p=c==null?void 0:c.current)==null?void 0:p.children].reduce((C,v)=>{const g=window.getComputedStyle(v).getPropertyValue("height");return C+Number(g.slice(0,g.length-2))},0);m&&x(b+m)},[c]),t.createElement(Oe,{ref:c,height:w,onClick:l,listCard:d},t.createElement(D,{iconSrc:r,time:n,username:s,userId:u}),t.createElement(z,{className:"text-pop-up-top"},"\u201C",a,"\u201D"),t.createElement(U,null,e))},Me=i("ul").withConfig({displayName:"Style__Container",componentId:"sc-1pjfpox-0"})(["display:flex;flex-direction:column;align-items:center;padding:0;h2{border-top:1px solid gray;border-bottom:1px solid gray;width:100%;font-weight:bold;text-align:center;}"]),Le=i("a").withConfig({displayName:"Style__Link",componentId:"sc-1pjfpox-1"})(["display:block;text-decoration:none;color:black;font-weight:bold;margin:.3em 0;"]),De=new RegExp(/^(?:https?:\/\/)?(?:[^@\n]+@)?(?:www\.)?([^:\/\n\?\=]+)/im),Re=({idx:e,linkText:a,link:r})=>t.createElement($,{placement:"right",overlay:t.createElement(j,null,t.createElement("strong",null,r))},t.createElement(Le,{key:String(e),href:r,target:"_blank"},a[1])),Ve=({links:e})=>t.createElement(Me,null,e==null?void 0:e.map((a,r)=>{const s=a.match(De);return t.createElement(Re,{key:String(r),linkText:s,idx:r,link:a})})),Pe=i("div").withConfig({displayName:"Style__LinksContainer",componentId:"sc-1gn6s0a-0"})(["margin-top:2em;display:flex;"]),Ue=({topic:e})=>t.createElement(Pe,null,t.createElement(Ve,{links:e==null?void 0:e.evidenceLinks,type:"evidence"})),ze=()=>{const e=S(ae,{replyType:ne});return t.createElement(y,{icon:t.createElement(re,null),onClick:e})},Ae=o.exports.memo(ze),He=({topicId:e,subTopicId:a})=>{const r=S(se,{topicId:e,subTopicId:a});return t.createElement(oe,{onClick:r})},$e=o.exports.memo(He),je=({likes:e,topic:a,user:r})=>{const{topicId:s,subTopicId:n,...l}=F(),{isOnTribunalPage:d}=Y();return t.createElement(_e,null,t.createElement(Te,null,t.createElement(we,{content:a,user:r,contentType:h}),t.createElement("span",null,e||0),t.createElement(Ce,{content:a,user:r,contentType:h}),l["*"]&&t.createElement(Ae,null)),t.createElement(Ne,null,!d&&t.createElement($e,{topicId:s,subTopicId:n}),!d&&t.createElement(Ie,{contentId:a==null?void 0:a.id})))},A=o.exports.memo(je),Fe=i("p").withConfig({displayName:"Style__Description",componentId:"sc-1e84hoh-0"})(["width:100%;font-size:1vw;word-wrap:break-word;padding:1em;@media only screen and (max-width:600px){font-size:4vw;}"]),_=({showLinks:e,topic:a,user:r})=>{const[s,n]=o.exports.useState(!1),l=o.exports.useRef(null);E(l,a==null?void 0:a.description);const d=s?t.createElement(ie,null):t.createElement(le,null);return t.createElement(t.Fragment,null,t.createElement(Fe,null,t.createElement("span",{ref:l})),e&&t.createElement(y,{icon:d,onClick:()=>n(!s)},"Show Additional Info"),t.createElement(W,{in:s},t.createElement("div",null,t.createElement(Ue,{topic:a,showLinks:e}))),t.createElement(A,{likes:a==null?void 0:a.likes,topic:a,user:r}))},We=e=>{const[a,r]=o.exports.useState("unset");return o.exports.useEffect(()=>{var s;if(e.current){(s=window.twttr.widgets)==null||s.load(e.current);const n=setInterval(()=>{var d;const l=(d=e==null?void 0:e.current)==null?void 0:d.querySelector("iframe");if(l){const u=window.getComputedStyle(l).getPropertyValue("height");u!=="0px"&&(r(`${Number(u.slice(0,u.length-2))}`),clearInterval(n))}},200)}},[e]),a},T=e=>{const a=B();return o.exports.useCallback(()=>{a(`/home/topics/${e}/subtopics/`)},[e])},Ye=i("div").withConfig({displayName:"Style__TweetContainer",componentId:"sc-2c4yky-0"})(["width:100%;.twitter-tweet-rendered{margin:auto !important;}"]);i(A).withConfig({displayName:"Style__StyledActionToolbar",componentId:"sc-2c4yky-1"})([" "]);i("div").withConfig({displayName:"Style__LinksContainer",componentId:"sc-2c4yky-2"})(["width:100%;margin-top:2em;display:flex;ul:first-child{border-right:1px solid gray;}"]);i("div").withConfig({displayName:"Style__ExpandButton",componentId:"sc-2c4yky-3"})(["  position:relative;"]);i("p").withConfig({displayName:"Style__Description",componentId:"sc-2c4yky-4"})(["width:100%;font-size:.6em;word-wrap:break-word;padding:1em;"]);const tt=({topic:e,user:a,showLinks:r})=>{const s=o.exports.useRef(null),n=T(e==null?void 0:e.id),l=We(s);return o.exports.useEffect(()=>{var d;e!=null&&e.tweetHtml&&s.current&&(s.current.innerHTML=((d=e==null?void 0:e.tweetHtml)==null?void 0:d.toString())||"<span>Nothing</span>")},[e==null?void 0:e.tweetHtml]),t.createElement(I,{onClick:n,topic:e,tweetRef:s,height:l},t.createElement(Ye,{height:l,ref:s}," "),t.createElement(_,{showLinks:r,topic:e,user:a}))},nt=({topic:e,user:a,showLinks:r})=>{if(!e)return null;const s=o.exports.useRef(null),n=T(e==null?void 0:e.id);return E(s,e==null?void 0:e.description),t.createElement(I,{onClick:n,topic:e},t.createElement(G,{topic:e}),t.createElement(_,{showLinks:r,topic:e,user:a}))},at=({topic:e,user:a,showLinks:r})=>{const s=o.exports.useRef(null),n=T(e==null?void 0:e.id);return E(s,e==null?void 0:e.description),t.createElement(I,{onClick:n,topic:e},t.createElement(J,{videoFile:e.vodUrl,imgFile:e.imageUrl,metaData:null}),t.createElement(_,{topic:e,user:a,showLinks:r}))};export{A,f as C,Ce as D,tt as E,Te as L,Ne as R,h as T,we as U,et as V,_e as a,P as b,Ie as c,N as d,he as e,I as f,_ as g,nt as h,at as i,Ue as j,T as u};
