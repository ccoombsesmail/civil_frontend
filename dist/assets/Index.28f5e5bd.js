import{d as o,U as w,R as e,u as m,r as s,k as x}from"./vendor.0dc98fef.js";import{d as v}from"./@clerk/clerk-react.6c71122b.js";import{I as y,u,a as b,s as C}from"./index.43cdcd02.js";import{u as E}from"./useOpenModal.986cd8ad.js";import{L as p}from"./index.7c84f60a.js";import{C as I}from"./Index.0e8a46fa.js";import"./redux.3f1f2b08.js";import"./@elastosfoundation/did-js-sdk.ab585390.js";import"./axios.391ccac8.js";import"./socket.io-client.b610e832.js";import"./redux-thunk.1b3bbe7b.js";import"./unicode-emoji-picker.85c61051.js";import"./CaptchaGateway.c92dd090.js";import"./Index.31c6c60e.js";import"./Index.73362e46.js";import"./Index.32d86a3d.js";o("div").withConfig({displayName:"Style__FormContainer",componentId:"sc-1udet5d-0"})(["  width:70%;display:flex;flex-direction:column;align-items:center;margin:3vw auto;"]);o("label").withConfig({displayName:"Style__Label",componentId:"sc-1udet5d-1"})(["  background-image:url('https://civil-dev.s3.us-west-1.amazonaws.com/profile_images/64_1.png');background-size:cover;height:4em;width:4em;border-radius:50%;cursor:pointer;"]);o("input").withConfig({displayName:"Style__UploadInput",componentId:"sc-1udet5d-2"})(["  position:absolute;left:-99999rem;"]);const _=o("div").withConfig({displayName:"Style__Container",componentId:"sc-1udet5d-3"})(["  display:flex;flex-direction:column;width:100%;align-items:center;margin:4vw;.cl-card{width:60vw;}.cl-component.cl-user-profile .cl-main{margin:3em 0 0 1em;}"]),S=n=>w(["0%{stroke-dashoffset:(440 - (440 * 1) / 100);}100%{stroke-dashoffset:(440 - (440 * ",") / 100);}"],n),N=o("div").withConfig({displayName:"Style__ProgressBarContainer",componentId:"sc-spv4fw-0"})(["  background:#fff;width:clamp(200px,20vw,100vw);height:clamp(200px,20vw,100vw);transform:scale(.9);display:flex;justify-content:center;align-items:center;position:relative;flex-direction:column;border-radius:.4vw;transition:transform .5s;> h2,h1{margin:1vw 0;}:hover{transform:translateY(-10px);box-shadow:0 15px 35px rgba(0,0,0,.5);}"]),k=o("div").withConfig({displayName:"Style__InnerProgressContainer",componentId:"sc-spv4fw-1"})(["--m-circle-width:clamp(70px,150px,90vw);--m-circle-height:clamp(70px,150px,90vw);width:var(--m-circle-width);height:var(--m-circle-height);position:relative;display:flex;flex-direction:column;align-items:center;svg{width:var(--m-circle-width);height:var(--m-circle-height);position:relative;circle{width:var(--m-circle-width);height:var(--m-circle-height);fill:none;stroke-width:10;stroke:#000;transform:translate(5px,5px);stroke-dasharray:440;stroke-dashoffset:440;stroke-linecap:round;:nth-child(1){stroke-dashoffset:0;stroke:#f3f3f3;}:nth-child(2){stroke-dashoffset:",";stroke:#03a9f4;}}}"],n=>`calc(440 - (440 * ${n.ratio}) / 100)`),z=o("div").withConfig({displayName:"Style__MiddleOfCircleContainer",componentId:"sc-spv4fw-2"})(["  top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;position:absolute;color:#111;h2{font-size:1.8vw;span{font-size:20px;}}"]);o("div").withConfig({displayName:"Style__ProgressValue",componentId:"sc-spv4fw-3"})(["  animation:"," 1s ease-out normal forwards;animation-delay:1.5s;border-radius:1em;background:#47DDA6;height:1.8vh;width:10vw;max-width:0;"],n=>S(n.ratio));const B=({userLevelData:n})=>{const{exp:t,level:i,pointsForNextLevel:l}=n||{},r=t/l;return console.log(t,i,l),Number.isNaN(r)?null:e.createElement(N,null,e.createElement("h1",null,"Level:"," ",i),e.createElement(k,{ratio:r*100},e.createElement("svg",null,e.createElement("circle",{cx:"70",cy:"70",r:"70"}),e.createElement("circle",{cx:"70",cy:"70",r:"70"})),e.createElement(z,null,e.createElement("h2",null,Number(r*100).toFixed(2),e.createElement("span",null,"%")))),e.createElement("h2",null,"Progress Until Next Level"),e.createElement("h3",null,`${t.toFixed(2)}/${l.toFixed(2)}`))},F=o("header").withConfig({displayName:"Style__Container",componentId:"sc-uclyjf-0"})(["display:flex;flex-direction:column;flex-grow:1;align-items:center;h1{color:var(--bg-accent);font-size:1.4em;font-weight:bold;}"]),U=o("div").withConfig({displayName:"Style__FlexDiv",componentId:"sc-uclyjf-1"})(["display:flex;align-items:center;justify-content:center;h1{text-align:center;vertical-align:center;}margin-bottom:2vw;"]),L=o("img").withConfig({displayName:"Style__UserIcon",componentId:"sc-uclyjf-2"})(["   margin-right:1vw;height:4vw;width:4vw;border-radius:50%;"]),P=({user:n})=>{const t=E(y);return e.createElement(F,null,e.createElement(U,null,e.createElement(L,{src:(n==null?void 0:n.iconSrc)||"https://civil-dev.s3.us-west-1.amazonaws.com/profile_img_1.png",onClick:t,alt:""}),e.createElement("h1",null,n==null?void 0:n.username)),e.createElement(B,{userLevelData:n==null?void 0:n.userLevelData}))},j=(n,t)=>{const i=m(r=>r.session.currentUser),{updateUserBioInformation:l}=u(b);return s.exports.useCallback(r=>{r.preventDefault(),x.promise(l(n||null,t||null),{pending:"Saving Bio Infromation...",success:"Bio Info Succefully Saved!",error:{render({data:c}){const{response:d}=c,{data:a}=d;return`${a.msg} \u{1F92F} `}}})},[i,n,t])},O=o("div").withConfig({displayName:"Index__OuterContainer",componentId:"sc-aclhnz-0"})(["  width:100%;display:flex;justify-content:center;"]),H=o("div").withConfig({displayName:"Index__Container",componentId:"sc-aclhnz-1"})(['width:60vw;padding:3em 2em;box-shadow:rgba(0,0,0,0.16) 0px 24px 48px;font-family:"Source Sans Pro",sans-serif;;font-size:1rem;font-weight:400;line-height:1.5;color:#151515;text-align:left;border-radius:1rem;border:1px solid transparent;background-color:white;']),$=o("div").withConfig({displayName:"Index__HeaderContainer",componentId:"sc-aclhnz-2"})(["margin-bottom:1.25em;"]),M=o("h1").withConfig({displayName:"Index__Header",componentId:"sc-aclhnz-3"})(["display:flex;align-items:center;font-size:2rem;font-weight:600;margin:0;line-height:1.2;"]),A=o("p").withConfig({displayName:"Index__SubHeader",componentId:"sc-aclhnz-4"})(["color:#808080;font-size:1.25rem;font-style:normal;font-weight:400;line-height:1.5em;margin:0 0 1rem 0;"]),f=o("div").withConfig({displayName:"Index__FieldContainer",componentId:"sc-aclhnz-5"})(["display:flex;width:100%;padding-bottom:1.5em;"]),h=o("div").withConfig({displayName:"Index__FieldLabel",componentId:"sc-aclhnz-6"})(["  display:flex;flex:0 0 30%;margin-right:0.5em;padding-top:1.5em;line-height:1.25em;font-size:1em;font-weight:var(--clerk-label-font-weight,600);"]),g=o("textarea").withConfig({displayName:"Index__Textarea",componentId:"sc-aclhnz-7"})(["min-height:4vh;flex:1;padding-top:1.5em;padding-bottom:1.5em;font-size:1em;line-height:1.25em;transition:color .2s ease-in-out,background-color .2s ease-in-out,border-color .2s ease-in-out,box-shadow .2s ease-in-out;padding:calc(1em - 2px);background:none;border-radius:0.5em;border:2px solid #e5e5e5;color:#151515;width:100%;background-color:#fff;:focus{border-color:#87C232;box-shadow:none !important;outline:none !important;outline-offset:none !important;}"]),D=o("div").withConfig({displayName:"Index__ButtonContainer",componentId:"sc-aclhnz-8"})(["  display:flex;justify-content:flex-end;margin-top:2em;width:100%;button{transition:color .2s ease-in-out,background-color .2s ease-in-out,border-color .2s ease-in-out,box-shadow .2s ease-in-out;padding:calc(1em - 2px);line-height:1.25rem;background:#87C232;border-color:#87C232;border-radius:0.5em;border:2px solid #e5e5e5;color:white;display:inline-flex;justify-content:center;align-items:center;vertical-align:middle;font-family:inherit;font-weight:600;font-size:1rem;margin:0;padding:1em 2em;border:0;outline:0;}"]),R=({user:n})=>{const t=m(a=>a.users)[n==null?void 0:n.id],[i,l]=s.exports.useState(t==null?void 0:t.bio),[r,c]=s.exports.useState(t==null?void 0:t.experience);s.exports.useEffect(()=>{l(t==null?void 0:t.bio),c(t==null?void 0:t.experience)},[t]),s.exports.useEffect(()=>{const a=document.getElementsByClassName("cl-main")[0];a&&a.insertBefore(document.getElementById("bio-dashboard"),null)},[]);const d=j(i,r);return e.createElement(O,{id:"bio-dashboard"},e.createElement(H,null,e.createElement($,null,e.createElement(M,null,"Bio Information"),e.createElement(A,null,"Manage Bio and Experience Information")),e.createElement("form",{onSubmit:d},e.createElement(f,null,e.createElement(h,null,"Bio"),e.createElement(g,{value:i,onChange:a=>l(a.target.value)})),e.createElement(f,null,e.createElement(h,null,"Experience"),e.createElement(g,{value:r,onChange:a=>c(a.target.value)})),e.createElement(D,null,e.createElement("button",{type:"submit"},"Save Bio Information")))))},re=()=>{const{getCurrentUser:n}=u(C),t=m(i=>i.session.currentUser);return s.exports.useEffect(()=>{const i=document.getElementsByClassName("cl-main")[0];i&&i.insertBefore(document.getElementById("bio-dashboard"),null),t&&n(t==null?void 0:t.userId)},[]),e.createElement(s.exports.Suspense,{fallback:e.createElement("div",null,"Loading...")},e.createElement(_,null,e.createElement(P,{user:t}),e.createElement(p,null),e.createElement(v.UserProfile,{appearance:{variables:{fontSize:"1.2vw",fontSmoothing:"antialiased",fontWeight:900,fontFamily:"Source Sans Pro, sans-serif"}}}),e.createElement(I,null),e.createElement(p,null),e.createElement(R,{user:t})))};export{re as default};
