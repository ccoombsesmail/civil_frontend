import{r as o,d as a,R as t,i as c}from"./vendor.0dc98fef.js";import{u as h,f as p,g,E as f,h as w,i as x}from"./Index.4b46e286.js";import{u}from"./useDetectCurrentPage.b5fea03e.js";import{u as y}from"./index.43cdcd02.js";import{t as b}from"./Index.cd78bc3d.js";const C=(e,n)=>{const{updateTopicLikes:i}=y(b);return o.exports.useCallback(()=>{i({id:e==null?void 0:e.id,userId:n==null?void 0:n.id,increment:!(e!=null&&e.liked)})},[e])},v=a("iframe").withConfig({displayName:"Style__VideoPlayer",componentId:"sc-gzmw6z-0"})(["height:20vw;width:100%;@media only screen and (max-width:600px){height:40vw;}"]);a("p").withConfig({displayName:"Style__Description",componentId:"sc-gzmw6z-1"})(["width:100%;font-size:.6em;word-wrap:break-word;padding:1em;"]);const _=({topic:e,user:n,src:i,showLinks:r})=>{const d=o.exports.useRef(null),l=h(e==null?void 0:e.id),m=C(e,n);return u(d,e==null?void 0:e.description),t.createElement(p,{onClick:l,topic:e},t.createElement(v,{src:i,loading:"lazy"}),t.createElement(g,{topic:e,user:n,updateLikes:m,showLinks:r}))},E=a("li").withConfig({displayName:"Style__CardItem",componentId:"sc-xhl5gw-0"})(['  width:40vw;overflow:hidden;position:relative;display:flex;align-items:center;justify-content:center;background-color:white;color:black;margin:2em;border-radius:.5em;cursor:pointer;box-shadow:-5px -5px 10px #5a5a5a,5px 5px 10px #ffffff;&::before{content:"";position:absolute;top:0;left:0;z-index:20;width:50%;height:100%;pointer-events:none;}transition:all .5s;:hover{transform:scale(1.1);}']),I=a("div").withConfig({displayName:"Style__CardFrame",componentId:"sc-xhl5gw-1"})(["position:absolute;top:0;left:0;right:0;bottom:0;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;"]),N=a("h2").withConfig({displayName:"Style__CardTitle",componentId:"sc-xhl5gw-2"})(["margin:0;font-weight:700;letter-spacing:0.08em;text-transform:uppercase;"]),k=a("div").withConfig({displayName:"Style__CardBody",componentId:"sc-xhl5gw-3"})(["width:100%;"]);a("div").withConfig({displayName:"Style__TweetContainer",componentId:"sc-xhl5gw-4"})(["width:100%;.twitter-tweet{max-width:15vw;max-height:15vw;}"]);const s=a("div").withConfig({displayName:"Style__CardOverlay",componentId:"sc-xhl5gw-5"})(['position:absolute;bottom:20px;right:20px;display:flex;align-items:center;justify-content:center;width:52px;height:52px;background:rgb(252,163,17);background:#B9314F;border-radius:50%;box-shadow:0 2px 4px rgba(#000000,0.2);transition:0.5s;cursor:pointer;padding:5px;&::before{content:"Info";font-size:12px;text-transform:uppercase;font-weight:850;letter-spacing:0.02em;}&:hover,&:focus{border-radius:2.5em !important;bottom:0;right:0;width:101%;height:101%;box-shadow:none;border-radius:0;&::before{content:none;}}']),S=a("div").withConfig({displayName:"Style__CardContent",componentId:"sc-xhl5gw-6"})(["z-index:1;padding:20px;line-height:1.4;opacity:0;visibility:hidden;box-sizing:border-box;pointer-events:none;transition:0s;",":hover ~ &{opacity:1;visibility:visible;transition:0.2s 0.3s;}h2{margin:0;margin-bottom:16px;}"],s),L=({topic:e,user:n})=>{const i=c(),r=o.exports.useMemo(()=>({topic:e,user:n,showLinks:!1,hideReplyIcon:!0}),[e,n]);return e.ytUrl?t.createElement(_,{...r,src:e.ytUrl.replace("watch?v=","embed/")}):e.tweetHtml?t.createElement(f,{...r}):e.contentUrl?t.createElement(w,{...r}):e.vodUrl||e.imageUrl?t.createElement(x,{...r}):t.createElement(E,{onClick:()=>i(`/topics/${e.id}/subtopics/`)},t.createElement(I,{className:"card__frame"},t.createElement(N,{className:"card__title"},e.title,t.createElement(k,null)),t.createElement(s,{className:"card__overlay"}),t.createElement(S,{className:"card__content"},t.createElement("h2",null,e.title),t.createElement("p",null,e.description))))};export{L as T};
