{"version":3,"file":"comment-form.bundle.js","mappings":"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","sources":["webpack://civil/./src/generic/delay.js","webpack://civil/./src/pages/CommentForm/Index.jsx","webpack://civil/./src/pages/CommentForm/Style/index.js","webpack://civil/./src/pages/CommentForm/hooks/useGetStateEffect.js","webpack://civil/./src/pages/CommentForm/hooks/useHandleSubmit.js","webpack://civil/./src/pages/CommonComponents/AnimatedCheckmark/Index.jsx","webpack://civil/./src/pages/CommonComponents/AnimatedCheckmark/Style/index.js"],"sourcesContent":["export default (t, v) => new Promise((resolve, reject) => {\n  if (v === true) reject()\n  setTimeout(resolve.bind(null, v), t)\n})\n","/* eslint-disable max-len */\nimport React, { useRef, useState } from 'react'\nimport { useLocation } from 'react-router-dom'\nimport Modal from 'react-bootstrap/Modal'\nimport { Formik } from 'formik'\n\nimport Button from '../CommonComponents/Button/Index'\nimport UserInfoHeader from '../CommonComponents/UserInfoHeader/Index'\nimport AnimatedCheckmark from '../CommonComponents/AnimatedCheckmark/Index'\nimport RichTextEditor from '../CommonComponents/RichTextEditor/Index'\n\nimport useSetInnerHtml from '../hooks/useSetInnerHtml'\nimport useGetStateEffect from './hooks/useGetStateEffect'\nimport useHandleSubmit from './hooks/useHandleSubmit'\n\nimport { getTimeSince } from '../../generic/string/dateFormatter'\nimport { checkToxicity } from '../../api/v1/comments/comments_api_util'\n\nimport {\n  FormContainer, InputWrapper, Container, Description, ToxicityControls,\n} from './Style'\n\nconst uuidRegEx = new RegExp(/\\b[0-9a-f]{8}\\b-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-\\b[0-9a-f]{12}\\b/g)\n\nconst CreateCommentForm = ({ modalProps }) => {\n  const descRef = useRef(null)\n  const [richTextEditorData, setRichTextEditorData] = useState({\n    rawHTML: '',\n    content: '',\n    rawText: '',\n  })\n  const [toxicityScore, setToxicityScore] = useState(null)\n\n  const { pathname } = useLocation()\n  const topicId = pathname.match(uuidRegEx)[0]\n  const subtopicId = pathname.match(uuidRegEx)[1]\n\n  const compState = useGetStateEffect(topicId, subtopicId, modalProps)\n  const handleSubmit = useHandleSubmit(compState, richTextEditorData.rawHTML, richTextEditorData.rawText, modalProps, subtopicId)\n  useSetInnerHtml(descRef, compState.htmlContent)\n\n  return (\n    <Container>\n      <Formik\n        initialValues={{\n          content: '',\n          positive: '',\n          negative: '',\n          neutral: '',\n        }}\n        validate={() => {\n          const errors = {}\n          if (richTextEditorData.content.length === 0) {\n            errors.content = 'Write Something'\n          }\n          return errors\n        }}\n        onSubmit={handleSubmit}\n      >\n        {({ isSubmitting }) => (\n          <>\n            <Modal.Header closeButton>\n              <Modal.Title>Write Your Reply</Modal.Title>\n            </Modal.Header>\n            <FormContainer>\n              <Modal.Body>\n                <UserInfoHeader\n                  iconSrc={compState.createdByIconSrc}\n                  username={compState.createdBy}\n                  time={getTimeSince(compState.time)}\n                />\n                <Description>\n                  <span ref={descRef} />\n                </Description>\n                <InputWrapper>\n                  <RichTextEditor\n                    content={richTextEditorData.content}\n                    setContent={setRichTextEditorData}\n                    setToxicityScore={setToxicityScore}\n                  />\n                </InputWrapper>\n              </Modal.Body>\n              <Modal.Footer>\n                <ToxicityControls>\n                  <div>\n                    <div style={{ display: 'flex', alignItems: 'center' }}>\n                      <Button\n                        type=\"button\"\n                        onClick={() => checkToxicity({ content: richTextEditorData.rawText }).then((res) => {\n                          setToxicityScore(res.data.SEVERE_TOXICITY.toFixed(2))\n                        })}\n                      >\n                        Check Toxicity Score\n                      </Button>\n                      <AnimatedCheckmark toxicityScore={toxicityScore} />\n                    </div>\n                    <p>{ toxicityScore && `Your toxicity score is ${toxicityScore}`}</p>\n                  </div>\n                </ToxicityControls>\n                <Button type=\"submit\" disabled={isSubmitting}>\n                  Submit\n                </Button>\n              </Modal.Footer>\n            </FormContainer>\n\n          </>\n        )}\n      </Formik>\n    </Container>\n\n  )\n}\n\nexport default CreateCommentForm\n","import styled from 'styled-components'\nimport { Form } from 'formik'\n\nexport const FormContainer = styled(Form)`\n  margin-top: 0;\n  border-radius: .5em;\n  position: relative;\n\n`\n\nexport const Description = styled('p')` \n  width: 90%;\n  padding: .5em 0;\n  margin-bottom: 2em;\n  font-size: .85em;\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  background-color: white;\n  color: black;\n`\n\nexport const InputWrapper = styled('div')`\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  width: 100%;\n  section {\n    display: flex;\n    justify-content: space-between;\n    align-items: flex-end;\n    width: 30vw;\n    position: absolute;\n    bottom: 0;\n      padding: .2em .5em;\n    background: #e0e5ec;\n    border-radius: .4em;\n    box-shadow:\n   -7px -7px 20px 0px #fff9,\n   -4px -4px 5px 0px #fff9,\n   7px 7px 20px 0px #0002,\n   4px 4px 5px 0px #0001,\n   inset 0px 0px 0px 0px #fff9,\n   inset 0px 0px 0px 0px #0001,\n   inset 0px 0px 0px 0px #fff9,\n   inset 0px 0px 0px 0px #0001;\n  }\n`\n\nexport const Container = styled('div')`\n  position: relative;\n  h1 {\n    width: 100%;\n    margin: 0;\n    text-align: center;\n    padding-bottom: .5em;\n    border-bottom: 1px solid black;\n  }\n `\n\nexport const ToxicityControls = styled('div')`\n  flex-grow: 1;\n  display: flex;\n  align-items: center;\n  > div {\n    margin-left: 1vw;\n  }\n\n  p {\n    margin: 0 1em;\n    color: #979cb0;\n    font-weight: 600;\n    font-size: 16px;\n    letter-spacing: .1vw;  \n  }\n\n`\n","import { useMemo } from 'react'\nimport { useSelector } from 'react-redux'\n\nconst findCommentContent = (comment, id) => {\n  const visited = new Set()\n  const q = [comment]\n  while (q.length !== 0) {\n    const currNode = q.shift()\n    visited.add(currNode.data.id)\n    if (currNode.data.id === id) return currNode.data.content\n    currNode.children.forEach((child) => {\n      if (!visited.has(child.data.id)) q.push(child)\n    })\n  }\n  return ''\n}\n\nexport default (topicId, subtopicId, modalProps) => {\n  const user = useSelector((s) => s.session.currentUser)\n  const topic = useSelector((s) => s.topics.list)?.find((t) => t.id === topicId)\n  const comment = useSelector((s) => s.comments.list)?.find(\n    (c) => c.data?.id === modalProps?.rootParentCommentId,\n  )\n  return useMemo(() => {\n    const commentContent = modalProps?.replyType !== 'TOPIC_REPLY'\n      ? findCommentContent(comment, modalProps?.commentId) : topic?.description\n    return {\n      subtopicId,\n      createdByIconSrc: comment?.iconSrc || topic?.createdByIconSrc,\n      username: user?.username,\n      createdBy: comment?.createdBy || topic?.createdBy,\n      time: comment?.createdAt || topic?.createdAt,\n      htmlContent: commentContent,\n      rootParentCommentId: modalProps?.rootParentCommentId || null,\n      type: modalProps?.replyType,\n    }\n  }, [topic, user, comment, subtopicId, modalProps])\n}\n","import { useCallback } from 'react'\nimport { toast } from 'react-toastify'\n\nimport useBindDispatch from '../../hooks/redux/useBindDispatch'\nimport commentActions from '../../../redux/actions/comments'\nimport { checkToxicity } from '../../../api/v1/comments/comments_api_util'\nimport delay from '../../../generic/delay'\n\nexport default (compState, content, rawText, modalProps, subtopicId) => {\n  const { createComment } = useBindDispatch(commentActions)\n  return useCallback((values, { setSubmitting, resetForm }) => {\n    // const { positive, negative, neutral } = values\n    // let sentiment\n    // if (positive) sentiment = 'positive'\n    // if (neutral) sentiment = 'neutral'\n    // if (negative) sentiment = 'negative'\n    toast.promise(\n      Promise.all([delay(1500), checkToxicity({ content: rawText })]),\n      {\n        pending: 'Analyzing Comment...',\n        success: 'Thanks For Being Civil!',\n        error: 'Promise rejected 🤯',\n      },\n    ).then(() => {\n      createComment({\n        ...values,\n        content,\n        memeFlag: false,\n        parentId: modalProps?.commentId || null,\n        subtopicId,\n        createdBy: compState.username,\n        rootId: compState.rootParentCommentId,\n        rawText,\n      })\n    })\n\n    setSubmitting(false)\n    resetForm({})\n  }, [compState, content, rawText, modalProps, subtopicId])\n}\n","/* eslint-disable jsx-a11y/label-has-associated-control */\nimport React from 'react'\n\nimport { Container, Input } from './Style/index'\n\nconst AnimatedCheckmark = ({ toxicityScore }) => {\n  let color\n  let text\n  if (toxicityScore < 0.6) { color = 'green'; text = 'Great!' }\n  if (toxicityScore >= 0.6 && toxicityScore <= 0.9) { color = 'var(--m-danger-color)'; text = 'You are OK but getting close' }\n  if (toxicityScore > 0.9) { color = 'red'; text = 'You are being toxic' }\n  return (\n    <>\n      <Container color={color}>\n        <Input readOnly disabled checked={Boolean(toxicityScore)} type=\"checkbox\" />\n        <label />\n        <svg width=\"15\" height=\"14\" viewBox=\"0 0 15 14\" fill=\"none\">\n          <path d=\"M2 8.36364L6.23077 12L13 2\" />\n        </svg>\n      </Container>\n      {toxicityScore && <span style={{ marginLeft: '0.5vw' }}>{text}</span>}\n      <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" style={{ width: 0, height: 0 }}>\n        <defs>\n          <filter id=\"goo\">\n            <feGaussianBlur in=\"SourceGraphic\" stdDeviation=\"4\" result=\"blur\" />\n            <feColorMatrix in=\"blur\" mode=\"matrix\" values=\"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 22 -7\" result=\"goo\" />\n            <feBlend in=\"SourceGraphic\" in2=\"goo\" />\n          </filter>\n        </defs>\n      </svg>\n    </>\n  )\n}\nexport default AnimatedCheckmark\n","/* eslint-disable import/prefer-default-export */\nimport styled, { keyframes } from 'styled-components'\n\n// const primary = '#4d271a88'\n\nconst splash = (primary) => keyframes`\n  40% {\n    background: ${primary};\n    box-shadow: 0 -18px 0 -8px ${primary}, 16px -8px 0 -8px ${primary}, 16px 8px 0 -8px ${primary}, 0 18px 0 -8px ${primary}, -16px 8px 0 -8px ${primary}, -16px -8px 0 -8px ${primary};\n  }\n\n  100% {\n    background: ${primary};\n    box-shadow: 0 -36px 0 -10px transparent, 32px -16px 0 -10px transparent, 32px 16px 0 -10px transparent, 0 36px 0 -10px transparent, -32px 16px 0 -10px transparent, -32px -16px 0 -10px transparent;\n  }\n  \n\n`\n\nexport const Container = styled('div')`\n  position: relative;\n  width: 24px;\n  height: 24px;\n  color: ${(props) => props.color};\n  /* transform: scale(3); */\n  span {\n    margin-left: .5vw;\n  }\n  input {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 24px;\n    height: 24px;\n    border: 2px solid #bfbfc0;\n    border-radius: 50%;\n    z-index: 9999999999;\n\n  }\n\n  label {\n    z-index: 999999999;\n    width: 24px;\n    height: 24px;\n    background: none;\n    border-radius: 50%;\n    position: absolute;\n    top: 0;\n    left: 0;\n    -webkit-filter: url(#goo);\n    filter: url(#goo);\n    transform: translate3d(0,0,0);\n    /* pointer-events: none; */\n  }\n\n  svg {\n    position: absolute;\n    top: 5px;\n    left: 4px;\n    z-index: 99999999999;\n    pointer-events: none;\n    path {\n      stroke: white;\n      stroke-width: 3;\n      stroke-linecap: round;\n      stroke-linejoin: round;\n      stroke-dasharray: 19;\n      stroke-dashoffset: 19;\n      transition: stroke-dashoffset .3s ease;\n      transition-delay: .2s;\n    }\n  }\n\n  input:checked {\n    border: none;\n  }\n  input:checked + label {\n      animation: ${(props) => splash(props.color)} .6s ease forwards;\n      border: 2px solid ${(props) => props.color};\n\n      + svg path {\n        stroke-dashoffset: 0\n      }\n  }\n\n`\n\nexport const Input = styled('input')`\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    appearance: none;\n    -webkit-tap-highlight-color: transparent;\n    cursor: pointer;\n    margin: 0;\n    &:focus {\n      outline: 0;\n    }\n`\n"],"names":["t","v","Promise","resolve","reject","setTimeout","bind","React","useRef","useState","useLocation","Modal","Formik","Button","UserInfoHeader","AnimatedCheckmark","RichTextEditor","useSetInnerHtml","useGetStateEffect","useHandleSubmit","getTimeSince","checkToxicity","FormContainer","InputWrapper","Container","Description","ToxicityControls","uuidRegEx","RegExp","CreateCommentForm","modalProps","descRef","rawHTML","content","rawText","richTextEditorData","setRichTextEditorData","toxicityScore","setToxicityScore","pathname","topicId","match","subtopicId","compState","handleSubmit","htmlContent","positive","negative","neutral","errors","length","isSubmitting","createdByIconSrc","createdBy","time","display","alignItems","then","res","data","SEVERE_TOXICITY","toFixed","styled","Form","useMemo","useSelector","findCommentContent","comment","id","visited","Set","q","currNode","shift","add","children","forEach","child","has","push","user","s","session","currentUser","topic","topics","list","find","comments","c","rootParentCommentId","commentContent","replyType","commentId","description","iconSrc","username","createdAt","type","useCallback","toast","useBindDispatch","commentActions","delay","createComment","values","setSubmitting","resetForm","promise","all","pending","success","error","memeFlag","parentId","rootId","Input","color","text","Boolean","marginLeft","width","height","keyframes","splash","primary","props"],"sourceRoot":""}