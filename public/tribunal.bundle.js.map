{"version":3,"file":"tribunal.bundle.js","mappings":"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","sources":["webpack://civil/./src/generic/time/calculateTimeLeft.js","webpack://civil/./src/pages/Tribunal/Index.jsx","webpack://civil/./src/pages/Tribunal/Style/index.js","webpack://civil/./src/pages/Tribunal/components/TribunalComments/Index.jsx","webpack://civil/./src/pages/Tribunal/components/TribunalComments/Style/index.js","webpack://civil/./src/pages/Tribunal/components/TribunalComments/hooks/useCategorizeComments.js","webpack://civil/./src/pages/Tribunal/components/VotingBox/Index.jsx","webpack://civil/./src/pages/Tribunal/components/VotingBox/Style/index.js","webpack://civil/./src/redux/actions/reports/index.js"],"sourcesContent":["export const calculateTimeLeft = (reportEndTime) => {\n  // const year = new Date().getFullYear()\n  const difference = +new Date(reportEndTime) - +new Date()\n\n  let timeLeft = {}\n\n  if (difference > 0) {\n    timeLeft = {\n      days: Math.floor(difference / (1000 * 60 * 60 * 24)),\n      hours: Math.floor((difference / (1000 * 60 * 60)) % 24),\n      minutes: Math.floor((difference / 1000 / 60) % 60),\n      seconds: Math.floor((difference / 1000) % 60),\n    }\n  }\n  return timeLeft\n}\n","import React, {\n  memo, useEffect, useMemo, useState,\n} from 'react'\nimport { useSelector } from 'react-redux'\nimport { useParams } from 'react-router-dom'\n\nimport {\n  OuterContainer, InnerContainer,\n  Header, StyledScalesSvg, ReportStatsContainer, ReportStatItem,\n  StyledPillarSvg, Timer,\n} from './Style/index'\nimport TopicItem from '../Topics/components/TopicItem/Index'\nimport useBindDispatch from '../hooks/redux/useBindDispatch'\n\nimport topicActions from '../../redux/actions/topics/index'\nimport reportActions from '../../redux/actions/reports/index'\nimport tribunalCommentsActions from '../../redux/actions/tribunal_comments/index'\nimport commentActions from '../../redux/actions/comments/index'\n\nimport { calculateTimeLeft } from '../../generic/time/calculateTimeLeft'\nimport TribunalComments from './components/TribunalComments/Index'\nimport VotingBox from './components/VotingBox/Index'\n\nimport Comment from '../SubTopics/components/Comment/Index'\nimport { COMMENT, TOPIC } from '../../enums/content_type'\n\nconst Tribunal = () => {\n  const { contentId, contentType } = useParams()\n  const user = useSelector((s) => s.session.currentUser)\n  const topics = useSelector((s) => s.topics.list)\n  const comments = useSelector((s) => s.comments.list)\n  const tribunalComments = useSelector((s) => s.tribunalComments)\n  const reportStats = useSelector((s) => s.reports)[contentId]\n  const [timeLeft, setTimeLeft] = useState({})\n\n  const {\n    getTopic,\n    getReport,\n    getAllTribunalCommentsBatch,\n    getComment,\n  } = useBindDispatch(topicActions, reportActions, tribunalCommentsActions, commentActions)\n\n  useEffect(() => {\n    let timer\n    if (reportStats) {\n      timer = setInterval(() => {\n        setTimeLeft(calculateTimeLeft(reportStats.reportPeriodEnd))\n      }, 1000)\n    }\n    return () => clearTimeout(timer)\n  }, [reportStats])\n\n  useEffect(() => {\n    if (contentId && user) {\n      if (contentType === COMMENT) getComment(contentId)\n      if (contentType === TOPIC) getTopic(contentId, user.id)\n      getReport(contentId)\n      getAllTribunalCommentsBatch(contentId)\n    }\n  }, [contentId, user])\n\n  const timerComponents = []\n\n  Object.keys(timeLeft).forEach((interval, idx) => {\n    if (!timeLeft[interval]) {\n      return\n    }\n\n    timerComponents.push(\n      <span key={String(`${idx}0`)}>\n        {timeLeft[interval]}\n        {' '}\n        {interval}\n        {' '}\n      </span>,\n    )\n  })\n\n  const votingTimeUp = timerComponents.length === 0\n\n  const Content = useMemo(() => {\n    const topic = topics?.find((t) => t.id === contentId)\n    const comment = comments?.find((c) => c.data.id === contentId)\n    if (topic) return <TopicItem key={topic.id} topic={topic} user={user} />\n    if (comment) return <Comment commentData={comment.data} replies={comment.children} />\n    return null\n  }, [topics, comments, contentId])\n  return (\n    <OuterContainer id=\"tribunal-container\">\n      <Header>\n        <StyledScalesSvg />\n        <h1>\n          Community Court\n        </h1>\n        <StyledScalesSvg />\n      </Header>\n      <Timer>\n        <h4>\n          Voting Period Timing Remaining\n        </h4>\n        {'\\n'}\n        <div>\n          {(!Object.keys(timeLeft) && reportStats) ? <span>Time Is Up!</span> : timerComponents}\n        </div>\n      </Timer>\n      <InnerContainer>\n        <StyledPillarSvg />\n        {Content}\n        <StyledPillarSvg />\n      </InnerContainer>\n      {reportStats && (\n      <VotingBox\n        contentId={contentId}\n        reportStats={reportStats}\n        votingTimeUp={votingTimeUp}\n      />\n      )}\n      <ReportStatsContainer>\n        <ReportStatItem>\n          <h2>Toxic Reports</h2>\n          {reportStats && (reportStats.numToxicReports || 0)}\n        </ReportStatItem>\n        <ReportStatItem>\n          <h2>Personal Attack Reports</h2>\n          {reportStats && (reportStats.numPersonalAttackReports || 0)}\n        </ReportStatItem>\n        <ReportStatItem>\n          <h2>Spam Reports</h2>\n          {reportStats && (reportStats.numSpamReports || 0)}\n        </ReportStatItem>\n      </ReportStatsContainer>\n      <TribunalComments comments={tribunalComments} />\n    </OuterContainer>\n  )\n}\n\nexport default memo(Tribunal)\n","import styled from 'styled-components'\nimport { ScalesSvg, PillarSvg } from '../../../svgs/svgs'\n\nexport const OuterContainer = styled('div')`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 100%;\n  padding-bottom: 60vh;\n`\n\nexport const Header = styled('header')`\n  display: flex;\n  align-items: center;\n  margin: clamp(30px, 1vw, 100px) 0 clamp(30px, 1vw, 100px) 0;\n  h1 {\n    font-weight: bold;\n    font-size: 2vw;\n    @media only screen and (max-width: 600px) {\n      font-size: 5.7vw;\n    }\n  }\n  svg {\n    width: 4vw !important;\n    height: 4vw !important;\n    @media only screen and (max-width: 600px) {\n      width: 12vw !important;\n      height: 12vw !important;\n    }\n    margin: 0 3vw;\n  }\n`\nexport const StyledScalesSvg = styled(ScalesSvg)`\n  width: 4vw !important;\n  height: 4vw !important;\n  margin: 0 1vw;\n`\n\nexport const StyledPillarSvg = styled(PillarSvg)`\n  display: block;\n`\n\nexport const InnerContainer = styled('div')`\n  position: relative;\n  display: flex;\n  justify-content: space-between;\n  /* align-items: center; */\n  width: 100%;\n\n`\n\nexport const VotingContainer = styled('section')`\n  position: relative;\n  width: 50%;\n  height: 14vw;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-evenly;\n  box-shadow: 0px 10px 20px rgb(60 60 60 / 10%);\n  border-radius: 0.5em;\n  background-color: white;\n  border: 0.5px solid lightgray;\n  border-color: rgba(200, 200, 200, 0.25);\n  margin: clamp(30px, 1vw, 100px) 0 clamp(30px, 1vw, 100px) 0;\n\n  @media only screen and (max-width: 800px) {\n    width: 90%;\n    height: 30vw;\n  }\n\n  svg {\n    @media only screen and (max-width: 800px) {\n      width: 9vw;\n      height: 9vw;\n    }\n  }\n\n  span {\n    @media only screen and (max-width: 800px) {\n      font-size: 4vw;\n    }\n  }\n`\n\nexport const ReportStatsContainer = styled('ul')`\n  display: flex;\n`\n\nexport const ReportStatItem = styled('li')`\n  background-color: var(--m-menu-item-hover);\n\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  box-shadow: 0px 10px 20px rgb(60 60 60 / 10%);\n  border-radius: 0.5em;\n  background-color: var(--m-secondary-background-color);\n  font-size: 1vw;\n  padding: 2vw 4vw;\n  margin: 2vw 4vw;\n  @media only screen and (max-width: 800px) {\n      font-size: 4vw;\n      margin: 2vw 2vw;\n\n    }\n`\nexport const VotesAgainst = styled('div')`\n  display: flex;\n  flex-direction: column;\n  position: absolute;\n  left: 10%;\n  top: 50%;\n  transform: translate(0, -50%);\n  font-size: 2vw;\n  align-items: center;\n  @media only screen and (max-width: 800px) {\n    font-size: 4vw;\n  }\n  \n`\n\nexport const VotesFor = styled('div')`\n  display: flex;\n  flex-direction: column;\n  position: absolute;\n  right: 10%;\n  top: 50%;\n  transform: translate(0, -50%);\n  font-size: 2vw;\n  align-items: center;\n\n  @media only screen and (max-width: 800px) {\n    font-size: 4vw;\n  }\n`\nexport const Timer = styled('div')`\n  font-size: 1.3vw; \n  color: gray;\n  margin: 0 0 clamp(30px, 1vw, 100px) 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  @media only screen and (max-width: 800px) {\n    font-size: 4vw;\n  }\n\n  h4 {\n    color: black;\n  }\n`\n\nexport const MiddleSection = styled('div')`\n\n  span:first-child {\n    font-weight: bold;\n    color: red;\n  }\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n`\n","import React, { useState } from 'react'\nimport { Tab } from 'react-bootstrap'\n\nimport { Line } from '../../../CommonComponents/Line'\nimport CommentColumn from '../../../SubTopics/components/CommentColumn/Index'\nimport { ColumnContainer } from '../../../SubTopics/components/SubTopicThread/Style'\nimport useCategorizeComments from './hooks/useCategorizeComments'\nimport { StyledThemeTab } from './Style/index'\n\nconst TribunalComments = () => {\n  const [key, setKey] = useState('all')\n  const comments = useCategorizeComments()\n  return (\n    <>\n      <Line />\n      <StyledThemeTab\n        activeKey={key}\n        onSelect={(k) => setKey(k)}\n      >\n        <Tab eventKey=\"all\" title=\"All\">\n          <ColumnContainer>\n            <CommentColumn numComments={comments?.allComments} comments={comments.all} commentSentiment=\"All\" color=\"var(--m-primary-background-color)\" />\n          </ColumnContainer>\n        </Tab>\n        <Tab eventKey=\"Defendant\" title=\"Defendant\">\n          <ColumnContainer>\n            <CommentColumn numComments={comments?.positiveComments} comments={comments.Defendant} commentSentiment=\"Defendant\" color=\"#6A6E70\" />\n          </ColumnContainer>\n        </Tab>\n        <Tab eventKey=\"Reporter\" title=\"Reporters\">\n          <ColumnContainer>\n            <CommentColumn comments={comments.Reporter} commentSentiment=\"Reporter\" color=\"#474A4F\" />\n          </ColumnContainer>\n        </Tab>\n        <Tab eventKey=\"Jury\" title=\"Jury\">\n          <ColumnContainer>\n            <CommentColumn comments={comments.Jury} commentSentiment=\"Jury\" color=\"var(--m-primary-background-color)\" />\n          </ColumnContainer>\n        </Tab>\n        <Tab eventKey=\"General\" title=\"General Public\">\n          <ColumnContainer>\n            <CommentColumn comments={comments.General} commentSentiment=\"General Public\" color=\"var(--m-primary-background-color)\" />\n          </ColumnContainer>\n        </Tab>\n      </StyledThemeTab>\n    </>\n  )\n}\n\nexport default TribunalComments\n","import styled from 'styled-components'\nimport { ThemeTabNew } from '../../../../CommonComponents/Tabs/Style'\n\nexport const StyledThemeTab = styled(ThemeTabNew)`\n  .nav-item {\n    margin: 0 0.3em 0 0;\n  }\n`\n","import { useMemo } from 'react'\nimport { useSelector } from 'react-redux'\n\nconst commentType = new Set(['Defendant', 'Reporter', 'Jury', 'General'])\n\nexport default () => {\n  const comments = useSelector((state) => state.tribunalComments.list)\n  return useMemo(() => {\n    const categorizedComments = {\n      Defendant: [],\n      Reporter: [],\n      Jury: [],\n      General: [],\n      all: comments,\n    }\n    comments.forEach((comment) => {\n      if (commentType.has(comment.data?.commentType)) {\n        categorizedComments[comment.data?.commentType].push(comment)\n      }\n    })\n    return categorizedComments\n  }, [comments])\n}\n","import React, { memo, useMemo } from 'react'\nimport { Gavel2, CastBallotSvg } from '../../../../svgs/svgs'\nimport { TOPIC_VOTE_FORM } from '../../../App/Modal/Index'\nimport ThemeButton from '../../../CommonComponents/Button/Index'\nimport useOpenModal from '../../../hooks/useOpenModal'\nimport {\n  VotingContainer, VotesAgainst, VotesFor, MiddleSection,\n} from './Style'\n\nconst VotingBox = ({ contentId, reportStats, votingTimeUp }) => {\n  const openModal = useOpenModal(TOPIC_VOTE_FORM, { contentId })\n\n  const hasAlreadyVoted = useMemo(() => (reportStats.voteAgainst || reportStats.voteFor),\n    [reportStats.voteAgainst, reportStats.voteFor])\n\n  const verdict = useMemo(() => {\n    if (reportStats.numVotesFor > reportStats.numVotesAgainst) return 'Violation'\n    return 'No Violation'\n  }, [reportStats.numVotesAgainst, reportStats.numVotesFor])\n\n  return (\n    <VotingContainer>\n      <VotesAgainst>\n        Votes Against\n        <span>\n          {reportStats && (reportStats.numVotesAgainst ?? '?')}\n        </span>\n      </VotesAgainst>\n      <VotesFor>\n        Votes For\n        <span>\n          {reportStats && (reportStats.numVotesFor ?? '?')}\n        </span>\n      </VotesFor>\n      <MiddleSection verdict={verdict}>\n        { votingTimeUp && (\n        <span>\n          {`VERDICT â­¢ ${verdict}`}\n          {' '}\n        </span>\n        )}\n        { votingTimeUp ? <Gavel2 /> : <CastBallotSvg /> }\n        {(reportStats && !votingTimeUp) && (\n        <ThemeButton onClick={openModal}>\n          {hasAlreadyVoted ? 'Change Your Vote' : 'Cast Your Vote'}\n        </ThemeButton>\n        )}\n      </MiddleSection>\n    </VotingContainer>\n\n  )\n}\n\nexport default memo(VotingBox)\n","import styled from 'styled-components'\n\nexport const VotingContainer = styled('section')`\n  position: relative;\n  width: 50%;\n  height: 14vw;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-evenly;\n  box-shadow: 0px 10px 20px rgb(60 60 60 / 10%);\n  border-radius: 0.5em;\n  background-color: white;\n  border: 0.5px solid lightgray;\n  border-color: rgba(200, 200, 200, 0.25);\n  margin: clamp(30px, 1vw, 100px) 0 clamp(30px, 1vw, 100px) 0;\n\n  @media only screen and (max-width: 800px) {\n    width: 90%;\n    height: 30vw;\n  }\n\n  svg {\n    @media only screen and (max-width: 800px) {\n      width: 9vw;\n      height: 9vw;\n    }\n  }\n\n  span {\n    @media only screen and (max-width: 800px) {\n      font-size: 4vw;\n    }\n  }\n`\n\nexport const VotesAgainst = styled('div')`\n  display: flex;\n  flex-direction: column;\n  position: absolute;\n  left: 10%;\n  top: 50%;\n  transform: translate(0, -50%);\n  font-size: 1.3vw;\n  align-items: center;\n  @media only screen and (max-width: 800px) {\n    font-size: 4vw;\n  }\n  \n`\n\nexport const VotesFor = styled('div')`\n  display: flex;\n  flex-direction: column;\n  position: absolute;\n  right: 10%;\n  top: 50%;\n  transform: translate(0, -50%);\n  font-size: 1.3vw;\n  align-items: center;\n\n  @media only screen and (max-width: 800px) {\n    font-size: 4vw;\n  }\n`\n\nexport const MiddleSection = styled('div')`\n\n  span:first-child {\n    font-size: 2vw;\n    font-weight: bold;\n    color: ${(props) => (props.verdict === 'Violation' ? 'red' : 'green')};\n  }\n  transform: translate(0, -35%);\n  height: 55%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-between;\n`\n","import { toast } from 'react-toastify'\nimport { closeModal } from '../ui/index'\nimport { ADD_REPORT } from '../../reducers/reports/reportsReducer'\nimport * as ReportsApiUtil from '../../../api/v1/reports/reports_api_util'\nimport { errorFormatter } from '../../utils/errorFormatter'\n\nconst addReportActionCreator = (report) => ({\n  type: ADD_REPORT,\n  payload: report,\n})\n\nexport const getReport = (contentId) => (dispatch) => (\n  ReportsApiUtil.getReport(contentId)\n    .then((res) => dispatch(addReportActionCreator(res.data)))\n    .catch((error) => toast.error(errorFormatter(error)))\n    .finally(() => dispatch(closeModal()))\n)\n\nexport default {\n  getReport,\n}\n"],"names":["calculateTimeLeft","reportEndTime","difference","Date","timeLeft","days","Math","floor","hours","minutes","seconds","React","memo","useEffect","useMemo","useState","useSelector","useParams","OuterContainer","InnerContainer","Header","StyledScalesSvg","ReportStatsContainer","ReportStatItem","StyledPillarSvg","Timer","TopicItem","useBindDispatch","topicActions","reportActions","tribunalCommentsActions","commentActions","TribunalComments","VotingBox","Comment","COMMENT","TOPIC","Tribunal","contentId","contentType","user","s","session","currentUser","topics","list","comments","tribunalComments","reportStats","reports","setTimeLeft","getTopic","getReport","getAllTribunalCommentsBatch","getComment","timer","setInterval","reportPeriodEnd","clearTimeout","id","timerComponents","Object","keys","forEach","interval","idx","push","String","votingTimeUp","length","Content","topic","find","t","comment","c","data","children","numToxicReports","numPersonalAttackReports","numSpamReports","styled","ScalesSvg","PillarSvg","VotingContainer","VotesAgainst","VotesFor","MiddleSection","Tab","Line","CommentColumn","ColumnContainer","useCategorizeComments","StyledThemeTab","key","setKey","k","allComments","all","positiveComments","Defendant","Reporter","Jury","General","ThemeTabNew","commentType","Set","state","categorizedComments","has","Gavel2","CastBallotSvg","TOPIC_VOTE_FORM","ThemeButton","useOpenModal","openModal","hasAlreadyVoted","voteAgainst","voteFor","verdict","numVotesFor","numVotesAgainst","props","toast","closeModal","ADD_REPORT","ReportsApiUtil","errorFormatter","addReportActionCreator","report","type","payload","dispatch","then","res","error"],"sourceRoot":""}